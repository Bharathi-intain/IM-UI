"use strict";(self.webpackChunkwsfs=self.webpackChunkwsfs||[]).push([[4056],{16824:(e,t,a)=>{var s=a(22411);t.c=void 0;var n=s(a(93540)),i=a(17624);t.c=(0,n.default)((0,i.jsx)("path",{d:"M21 11V3h-8l3.29 3.29-10 10L3 13v8h8l-3.29-3.29 10-10z"}),"OpenInFull")},64056:(e,t,a)=>{a.r(t),a.d(t,{default:()=>M});var s=a(52536),n=a(45072),i=a(23132),l=a.n(i),r=a(29496),c=a(54563),o=a(46057),d=a(28),h=(a(79820),a(16824)),m=a(45652),u=a(98656),p=a.n(u),g=a(12552),v=a(74428),b=a(42840),E=a(58124),w=a(71192),S=a(74872),I=a(65073),k=a(43216),D=a(48128),y=a(85036),C=a(46260),f=a(76968),N=a(37048);const x={Scroller:l().forwardRef(((e,t)=>l().createElement(D.c,(0,n.c)({component:f.c},e,{ref:t})))),Table:e=>l().createElement(S.c,(0,n.c)({},e,{style:{borderCollapse:"separate"}})),TableHead:y.c,TableRow:C.c,TableBody:l().forwardRef(((e,t)=>l().createElement(I.c,(0,n.c)({},e,{ref:t}))))};class T extends i.Component{constructor(e){super(e),(0,s.c)(this,"handleSort",(e=>{const{sortColumn:t,sortAscending:a,tableData:s}=this.state;let n;n=t!==e||!a;const i=[...s].sort(((t,a)=>{const s=t[e]?t[e].toLowerCase():"",i=a[e]?a[e].toLowerCase():"";return s<i?n?-1:1:s>i?n?1:-1:0}));this.setState({tableData:i,sortColumn:e,sortAscending:n})})),(0,s.c)(this,"handleSearchIconClick",(()=>{this.setState({isSearchOpen:!0})})),(0,s.c)(this,"dealPreviewLoanTape",(async()=>{let e=E(this.state.servicerPaymentDate).subtract(1,"months").format("MM/DD/YYYY").toString(),t=e.slice(0,2),a=e.slice(6,10);var s={};s.DealName=this.state.servicerDealName,s.Month=t,s.Year=a,s.ServicerName=this.state.userid,s.peer=this.state.peers,console.log("datata",s),this.setState({screenloader:!0});const n=await(0,g.C_)(s,this.state.token);if(200===n.status&&!0===n.data.isSuccess){var i,l,r;const e=(null===(i=n.data)||void 0===i?void 0:i.result)||[];this.setState({MapDataKeys:e.length>0?Object.keys(e[0]):[],MapDataValues:null===(l=n.data)||void 0===l||null===(l=l.result)||void 0===l?void 0:l.map((e=>Object.keys(e).map((t=>({value:e[t]}))))),screenloader:!1,tableData:(null===(r=n.data)||void 0===r?void 0:r.result)||["no data"]});const t="Deal Document Update Success";this.props.enqueueSnackbar(t,{variant:"info",autoHideDuration:3e3})}else if(200===n.status&&!1===n.data.isSuccess){this.setState({screenloader:!1});const e=n.data.result;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3})}else{this.setState({screenloader:!1});const e=n.data.message;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3})}})),(0,s.c)(this,"handleSearch",(e=>{const t=e.target.value.toLowerCase(),{tableData:a}=this.state,s=a.filter((e=>{for(let a in e)if(e[a]&&e[a].toString().toLowerCase().includes(t))return!0;return!1}));this.setState({searchTerm:e.target.value,data:s,isDataFound:s.length>0})})),(0,s.c)(this,"clearSearch",(()=>{this.setState({searchTerm:"",data:this.state.tableData})})),(0,s.c)(this,"filterData",(e=>{const{tableData:t}=this.state;return t.filter((t=>Object.values(t).some((t=>t.toLowerCase().includes(e.toLowerCase())))))})),(0,s.c)(this,"handleOpenModal",(()=>{this.setState({open1:!0})})),(0,s.c)(this,"handleCloseModal",(()=>{this.setState({open1:!1})})),(0,s.c)(this,"handleClickUploadLoanTapes",(()=>{this.setState({activeInsights1:!0,activeInsights2:!1,activeInsights3:!1,activeInsights4:!1,activeInsights5:!1}),window.location.assign("/admin/uploadLoanTape")})),(0,s.c)(this,"handleClickPreviewLoanTape",(()=>{this.setState({activeInsights1:!1,activeInsights2:!0,activeInsights3:!1,activeInsights4:!1,activeInsights5:!1})})),(0,s.c)(this,"handleClickMapFields",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!0,activeInsights4:!1,activeInsights5:!1}),window.location.assign("/admin/mapfields")})),(0,s.c)(this,"handleClickPreviewMappedFields",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!1,activeInsights4:!0,activeInsights5:!1}),window.location.assign("/admin/previewmapfields")})),(0,s.c)(this,"handleClickSummarize",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!1,activeInsights4:!1,activeInsights5:!0}),window.location.assign("/admin/summarize")})),(0,s.c)(this,"goBackToDashBoard",(()=>{window.location.assign("/admin/uploadLoanTape")})),this.state={isFullScreen:!1,loading:!1,open1:!1,tableData:[],servicerDealName:sessionStorage.getItem("dealName"),servicerPaymentDate:sessionStorage.getItem("paymentDate"),DealName:null===sessionStorage.getItem("dealname")?sessionStorage.getItem("servicerdealname"):sessionStorage.getItem("dealname"),ServicerName:null===sessionStorage.getItem("Servicer")?sessionStorage.getItem("servicerdashboardname"):sessionStorage.getItem("Servicer"),detailsDate:sessionStorage.getItem("selectservicerdate"),peer:sessionStorage.getItem("peer"),peers:JSON.parse(sessionStorage.getItem("peers")),activeInsights1:!1,activeInsights2:!0,activeInsights3:!1,activeInsights4:!1,activeInsights5:!1,screenloader:!1,MapDataValues:[],MapDataKeys:[],data:[],searchTerm:"",isDataFound:!0,isSearchOpen:!1,sortColumn:"",sortAscending:!0,peers:sessionStorage.getItem("peer_insurer"),userid:sessionStorage.getItem("userid"),token:sessionStorage.getItem("token")},console.log("propsss",e)}componentDidMount(){this.dealPreviewLoanTape()}render(){const{searchTerm:e,isDataFound:t,tableData:a,MapDataKeys:s,data:n,isSearchOpen:i,sortColumn:d,sortAscending:u}=this.state,g=e?this.filterData(e):a;return l().createElement(l().Fragment,null," ",l().createElement("div",{className:"page"},l().createElement(r.c,{activeComponent:"ServicerDashboardDeals"}),l().createElement("div",{className:"content1"},1==this.state.screenloader?l().createElement(v.c,null):l().createElement("div",{className:"page-contentofpool1"},l().createElement("div",{className:"row1"},l().createElement("div",{className:"col-12 col-sm-6 col-md-2 d-flex justigy-content-center align-center hellocard"},l().createElement(c.c,{onClick:()=>this.goBackToDashBoard(),className:"left-arrow-muis1 left-arrow-servicer"}),l().createElement("h3",{className:"headerdashboard"},"Servicer Details")),l().createElement("div",{className:"col-12 col-sm-6 col-md-10 hellocard"},l().createElement("div",{className:"recurring_details"},l().createElement("div",null,l().createElement("label",{className:"dealInfo"},"Deal Name : "),l().createElement("h6",{className:"dealInfo1"},this.state.servicerDealName)),l().createElement("div",null,l().createElement("label",{className:"dealInfo"},"Payment Date : "),l().createElement("h6",{className:"dealInfo1"},this.state.servicerPaymentDate))))),l().createElement("div",{className:"row row1"},l().createElement("div",null,l().createElement("div",{className:"tablechangebuttonloans"},l().createElement("button",{type:"button",onClick:()=>this.handleClickUploadLoanTapes(),className:1==this.state.activeInsights1?"issuerDashboard-table-top-button-insights-active":"issuerDashboard-table-top-button-insights"},"Upload Loan Tapes"),l().createElement("button",{type:"button",onClick:()=>this.handleClickPreviewLoanTape(),className:1==this.state.activeInsights2?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected"},"Preview Loan Tape"),l().createElement("button",{type:"button",onClick:()=>this.handleClickMapFields(),className:1==this.state.activeInsights3?"issuerDashboard-table-top-button-workbench-active":"issuerDashboard-table-top-button-workbench"},"Map Fields"),l().createElement("button",{type:"button",onClick:()=>this.handleClickPreviewMappedFields(),className:1==this.state.activeInsights4?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected"},"Preview Map Fields"),l().createElement("button",{type:"button",onClick:()=>this.handleClickSummarize(),className:1==this.state.activeInsights5?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected"},"Summarize"))),l().createElement("div",{style:{display:"flex",alignItems:"center",gap:"1rem"}},l().createElement("div",null,l().createElement("div",{className:"search-container active"},l().createElement("input",{type:"text",value:e,onChange:this.handleSearch,placeholder:"Search...",className:"search-input"}),l().createElement("span",{className:"search-icon"},l().createElement(m.Search,null))),!t&&l().createElement("p",null,"No data found.")),l().createElement("div",{style:{marginTop:"10px"}},l().createElement("button",{style:{color:"#018e82"}},l().createElement(h.c,{onClick:this.handleOpenModal}))),l().createElement(o.c,{variant:"contained",color:"primary",type:"submit",style:{width:"7rem"},onClick:()=>this.handleClickMapFields()},"Next"))),l().createElement(l().Fragment,null,l().createElement("div",{style:{overflow:"auto",borderRadius:"10px",border:"0.5px solid black"}},l().createElement(w.TableVirtuoso,{style:{height:800},data:g,components:x,fixedHeaderContent:()=>l().createElement(C.c,null,l().createElement(k.c,{style:{background:"white",width:"100px"}}),s.map(((e,t)=>l().createElement(k.c,{key:t,style:{background:"white",cursor:"pointer",width:"".concat(10*e.length,"px"),whiteSpace:"nowrap"},onClick:()=>this.handleSort(e)},l().createElement("div",{style:{display:"flex",gap:"6px"}},e,d===e&&l().createElement("span",null,u?" ▲":" ▼")))))),itemContent:(e,t)=>l().createElement(l().Fragment,null,l().createElement(k.c,{style:{background:"white",width:"100px"}},e+1),s.map(((e,a)=>l().createElement(k.c,{key:a,style:{background:"white"}},t[e]))))})))))),l().createElement(l().Fragment,null,l().createElement(p(),{isOpen:this.state.open1,onRequestClose:this.handleCloseModal,style:b.Ww},l().createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},l().createElement("button",{type:"button",className:"closePopup1",onClick:this.handleCloseModal},l().createElement(N.default,null))),l().createElement(l().Fragment,null,l().createElement("div",{style:{overflow:"auto",borderRadius:"10px",border:"0.5px solid black",marginTop:"10px"}},l().createElement(w.TableVirtuoso,{style:{height:800},data:g,components:x,fixedHeaderContent:()=>l().createElement(C.c,null,l().createElement(k.c,{style:{background:"white",width:"100px"}}),s.map(((e,t)=>l().createElement(k.c,{key:t,style:{background:"white",width:"".concat(10*e.length,"px"),whiteSpace:"nowrap"}},e)))),itemContent:(e,t)=>l().createElement(l().Fragment,null,l().createElement(k.c,{style:{background:"white",width:"100px"}},e+1),s.map(((e,a,s)=>l().createElement(l().Fragment,null,l().createElement(k.c,{key:s,style:{background:"white"}},t[e])))))}))))))}}const M=(0,d.withSnackbar)(T)}}]);