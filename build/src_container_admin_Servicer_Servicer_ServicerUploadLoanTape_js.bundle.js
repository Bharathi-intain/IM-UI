/*! For license information please see src_container_admin_Servicer_Servicer_ServicerUploadLoanTape_js.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkwsfs=self.webpackChunkwsfs||[]).push([["src_container_admin_Servicer_Servicer_ServicerUploadLoanTape_js"],{"./src/container/admin/Servicer/Servicer/ServicerUploadLoanTape.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react?c217");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_sidebar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../components/sidebar */ "./src/components/sidebar/index.js");\n/* harmony import */ var _material_ui_icons_KeyboardBackspace__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @material-ui/icons/KeyboardBackspace */ "./node_modules/@material-ui/icons/KeyboardBackspace.js");\n/* harmony import */ var _material_ui_core_Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @material-ui/core/Button */ "./node_modules/@material-ui/core/esm/Button/Button.js");\n/* harmony import */ var react_input_range_lib_css_index_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-input-range/lib/css/index.css */ "./node_modules/react-input-range/lib/css/index.css");\n/* harmony import */ var _material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @material-ui/core/CircularProgress */ "./node_modules/@material-ui/core/esm/CircularProgress/CircularProgress.js");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! moment */ "webpack/sharing/consume/default/moment/moment");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var notistack__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! notistack */ "webpack/sharing/consume/default/notistack/notistack");\n/* harmony import */ var notistack__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(notistack__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _servies_services__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../servies/services */ "./src/servies/services.js");\n\n\n\n\n\n\n\n\n\n\nclass ServicerUploadLoanTape extends react__WEBPACK_IMPORTED_MODULE_1__.Component {\n  constructor(props) {\n    var _this$props$location, _this$props$location2, _this$props$location3, _this$props$location4, _this$props$location5, _this$props$location6, _this$props$location7, _this$props$location8;\n    super(props);\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "handleOnChange1", e => {\n      this.setState({\n        file1: e.target.files[0],\n        filename1: e.target.files[0].name\n      });\n      console.log("eeee", e.target.files[0].name);\n      console.log("file1", e.target.files[0]);\n    });\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "handleClickUploadLoanTapes", () => {\n      this.setState({\n        activeInsights1: true,\n        activeInsights2: false,\n        activeInsights3: false,\n        activeInsights4: false,\n        activeInsights5: false\n      });\n    });\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "handleClickPreviewLoanTape", () => {\n      this.setState({\n        activeInsights1: false,\n        activeInsights2: true,\n        activeInsights3: false,\n        activeInsights4: false,\n        activeInsights5: false\n      });\n      window.location.assign("/admin/previewloantapedetails");\n    });\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "handleClickMapFields", () => {\n      this.setState({\n        activeInsights1: false,\n        activeInsights2: false,\n        activeInsights3: true,\n        activeInsights4: false,\n        activeInsights5: false\n      });\n      window.location.assign("/admin/mapfields");\n    });\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "handleClickPreviewMappedFields", () => {\n      this.setState({\n        activeInsights1: false,\n        activeInsights2: false,\n        activeInsights3: false,\n        activeInsights4: true,\n        activeInsights5: false\n      });\n      window.location.assign("/admin/previewmapfields");\n    });\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "handleClickSummarize", () => {\n      this.setState({\n        activeInsights1: false,\n        activeInsights2: false,\n        activeInsights3: false,\n        activeInsights4: false,\n        activeInsights5: true\n      });\n      window.location.assign("/admin/summarize");\n    });\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "goBackToDashBoard", () => {\n      window.location.assign("/admin/servicer_deals");\n    });\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "onSubmit1", e => {\n      e.preventDefault();\n      this.UploadLoanTape();\n      // this.dealUploadLoanTape();\n    });\n    //  \n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "UploadLoanTape", async () => {\n      const checkDate = this.state.paymentDate;\n      const checkDealName = this.state.DealName === null ? this.state.servicerDealName : this.state.DealName;\n      const checkServicerName = this.state.ServicerName === null ? this.state.servicerDashboardName : this.state.ServicerName;\n      let x = moment__WEBPACK_IMPORTED_MODULE_4__(this.state.servicerPaymentDate).subtract(1, "months").format("MM/DD/YYYY").toString();\n      let month = x.slice(0, 2);\n      let year = x.slice(6, 10);\n      console.log("uplaodpooluw");\n      const newdata = new FormData();\n      newdata.append("DealName", this.state.servicerDealName);\n      newdata.append("Month", month);\n      newdata.append("Year", year);\n      newdata.append("ServicerName", this.state.userid);\n      newdata.append("filename", this.state.file1);\n      console.log("newdata", newdata);\n      this.setState({\n        formLoader: true\n      });\n      const APIResponse = await (0,_servies_services__WEBPACK_IMPORTED_MODULE_6__.UploadLoanTape)(newdata, this.state.token);\n      if (APIResponse.status === 200) {\n        console.log("upload--", APIResponse);\n        if (APIResponse.data.isSuccess === true) {\n          this.setState({\n            formLoader: true\n          });\n          // const message = APIResponse.data.result;\n          // this.props.enqueueSnackbar(message, {\n          //   variant: "info",\n          //   autoHideDuration: 2000,\n          // });\n          this.SaveLoanProcessDate();\n        } else {\n          this.setState({\n            formLoader: false\n          });\n          const message = APIResponse.data.result;\n          this.props.enqueueSnackbar(message, {\n            variant: "error",\n            autoHideDuration: 2000\n          });\n        }\n      } else {\n        alert("Failed upload");\n      }\n    });\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "SaveLoanProcessDate", async () => {\n      const checkDate = this.state.detailsDate === null ? this.state.servicerPaymentDate : this.state.detailsDate;\n      const checkDealName = this.state.DealName === null ? this.state.servicerDealName : this.state.DealName;\n      const checkServicerName = this.state.ServicerName === null ? this.state.servicerDashboardName : this.state.ServicerName;\n      let x = moment__WEBPACK_IMPORTED_MODULE_4__(this.state.servicerPaymentDate).subtract(1, "months").format("MM/DD/YYYY").toString();\n      let month = x.slice(0, 2);\n      let year = x.slice(6, 10);\n      var data = {};\n      data.DealName = this.state.servicerDealName;\n      data.Month = month;\n      data.Year = year;\n      data.ServicerName = this.state.userid;\n      data.peers = this.state.peers;\n      console.log("datata", data);\n      this.setState({\n        formLoader: true\n      });\n      const APIResponse = await (0,_servies_services__WEBPACK_IMPORTED_MODULE_6__.SaveLoanProcessDate)(data, this.state.token);\n      console.log("SaveMapping", APIResponse.data);\n      if (APIResponse.status === 200) {\n        this.setState({\n          formLoader: false\n        });\n        const message = "Deal Document Update Success";\n        this.props.enqueueSnackbar(message, {\n          variant: "info",\n          autoHideDuration: 3000\n        });\n        // this.props.history.push({\n        //   pathname: "/admin/previewloantapedetails",\n        //   state: { dealName: this.state.servicerDealName, month, year }\n        // })\n        window.location.assign("/admin/previewloantapedetails");\n        // sessionStorage.setItem(\'dealName\',[this.state.servicerDealName, month, year])\n      } else {\n        this.setState({\n          formLoader: false\n        });\n        const message = APIResponse.data.message;\n        this.props.enqueueSnackbar(message, {\n          variant: "error",\n          autoHideDuration: 3000\n        });\n      }\n    });\n    this.state = {\n      isFullScreen: false,\n      loading: false,\n      activeInsights1: true,\n      activeInsights2: false,\n      activeInsights3: false,\n      activeInsights4: false,\n      activeInsights5: false,\n      screendisplay: true,\n      servicerPaymentDate: sessionStorage.getItem(\'paymentDate\'),\n      servicerDealName: sessionStorage.getItem(\'dealName\'),\n      detailsDate: ((_this$props$location = this.props.location) === null || _this$props$location === void 0 || (_this$props$location = _this$props$location.state) === null || _this$props$location === void 0 ? void 0 : _this$props$location.detailsView) === undefined ? sessionStorage.getItem("selectdate") : (_this$props$location2 = this.props.location) === null || _this$props$location2 === void 0 || (_this$props$location2 = _this$props$location2.state) === null || _this$props$location2 === void 0 ? void 0 : _this$props$location2.detailsView,\n      file1: "",\n      DealName: ((_this$props$location3 = this.props.location) === null || _this$props$location3 === void 0 || (_this$props$location3 = _this$props$location3.state) === null || _this$props$location3 === void 0 ? void 0 : _this$props$location3.dealname) === undefined ? sessionStorage.getItem("dealname") : (_this$props$location4 = this.props.location) === null || _this$props$location4 === void 0 || (_this$props$location4 = _this$props$location4.state) === null || _this$props$location4 === void 0 ? void 0 : _this$props$location4.dealname,\n      ServicerName: ((_this$props$location5 = this.props.location) === null || _this$props$location5 === void 0 || (_this$props$location5 = _this$props$location5.state) === null || _this$props$location5 === void 0 ? void 0 : _this$props$location5.servicer) === undefined ? sessionStorage.getItem("Servicer") : (_this$props$location6 = this.props.location) === null || _this$props$location6 === void 0 || (_this$props$location6 = _this$props$location6.state) === null || _this$props$location6 === void 0 ? void 0 : _this$props$location6.servicer,\n      servicerDashboardName: ((_this$props$location7 = this.props.location) === null || _this$props$location7 === void 0 || (_this$props$location7 = _this$props$location7.state) === null || _this$props$location7 === void 0 ? void 0 : _this$props$location7.ServicerDashboardName) === undefined ? sessionStorage.getItem("servicerdashboardname") : (_this$props$location8 = this.props.location) === null || _this$props$location8 === void 0 || (_this$props$location8 = _this$props$location8.state) === null || _this$props$location8 === void 0 ? void 0 : _this$props$location8.ServicerDashboardName,\n      peers: sessionStorage.getItem("peer_insurer"),\n      userid: sessionStorage.getItem(\'userid\'),\n      token: sessionStorage.getItem(\'token\')\n    };\n    console.log("propssss", props);\n  }\n  componentDidMount() {\n    // if (sessionStorage.getItem("user_name") === "Trustee") {\n    //   sessionStorage.removeItem("selectservicerdate");\n    //   sessionStorage.removeItem("servicerdealname");\n    //   sessionStorage.removeItem("servicerdashboardname");\n    //   sessionStorage.setItem(\n    //     "selectdate",\n    //     this.props.location?.state?.detailsView === undefined\n    //       ? this.state.detailsDate\n    //       : this.props.location?.state?.detailsView\n    //   );\n    //   sessionStorage.setItem(\n    //     "dealname",\n    //     this.props.location?.state?.dealname === undefined\n    //       ? this.state.DealName\n    //       : this.props.location?.state?.dealname\n    //   );\n    //   sessionStorage.setItem(\n    //     "Servicer",\n    //     this.props.location?.state?.servicer === undefined\n    //       ? this.state.ServicerName\n    //       : this.props.location?.state?.servicer\n    //   );\n    // } else {\n    //   sessionStorage.removeItem("selectdate");\n    //   sessionStorage.removeItem("dealname");\n    //   sessionStorage.removeItem("Servicer");\n    //   sessionStorage.setItem(\n    //     "selectservicerdate",\n    //     this.props.location?.state?.ServicerPaymentDate === undefined\n    //       ? this.state.servicerPaymentDate\n    //       : this.props.location?.state?.ServicerPaymentDate\n    //   );\n    //   sessionStorage.setItem(\n    //     "servicerdealname",\n    //     this.props.location?.state?.ServicerDealName === undefined\n    //       ? this.state.servicerDealName\n    //       : this.props.location?.state?.ServicerDealName\n    //   );\n    //   sessionStorage.setItem(\n    //     "servicerdashboardname",\n    //     this.props.location?.state?.ServicerDashboardName === undefined\n    //       ? this.state.servicerDashboardName\n    //       : this.props.location?.state?.ServicerDashboardName\n    //   );\n    // }\n  }\n  render() {\n    const servicerDate = this.state.servicerPaymentDate;\n    console.log("servicerDate", servicerDate, this.state.detailsDate);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {\n      className: "page"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_components_sidebar__WEBPACK_IMPORTED_MODULE_2__["default"], {\n      activeComponent: "ServicerDashboardDeals"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {\n      className: "content1"\n    }, this.state.screendisplay === true ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {\n      className: "page-contentofpool1"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {\n      className: "row1"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {\n      className: "col-12 col-sm-6 col-md-2 d-flex justigy-content-center align-center hellocard"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_material_ui_icons_KeyboardBackspace__WEBPACK_IMPORTED_MODULE_7__["default"], {\n      onClick: () => this.goBackToDashBoard(),\n      className: "left-arrow-muis1 left-arrow-servicer"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("h3", {\n      className: "headerdashboard"\n    }, "Servicer Details")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {\n      className: "col-12 col-sm-6 col-md-10 hellocard"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {\n      className: "recurring_details"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("label", {\n      className: "dealInfo"\n    }, "Deal Name : "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("h6", {\n      className: "dealInfo1"\n    }, this.state.DealName === null ? this.state.servicerDealName : this.state.DealName)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("label", {\n      className: "dealInfo"\n    }, "Payment Date : "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("h6", {\n      className: "dealInfo1"\n    }, this.state.detailsDate === null ? this.state.servicerPaymentDate : this.state.detailsDate))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {\n      className: "row row1"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {\n      className: "tablechangebuttonloans"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {\n      type: "button",\n      onClick: () => this.handleClickUploadLoanTapes(),\n      className: this.state.activeInsights1 == true ? "issuerDashboard-table-top-button-insights-active" : "issuerDashboard-table-top-button-insights"\n    }, "Upload Loan Tapes"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {\n      type: "button",\n      onClick: () => this.handleClickPreviewLoanTape(),\n      className: this.state.activeInsights2 == true ? "issuerDashboard-table-top-button-rejected-active" : "issuerDashboard-table-top-button-rejected"\n    }, "Preview Loan Tape"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {\n      type: "button",\n      onClick: () => this.handleClickMapFields(),\n      className: this.state.activeInsights3 == true ? "issuerDashboard-table-top-button-workbench-active" : "issuerDashboard-table-top-button-workbench"\n    }, "Map Fields"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {\n      type: "button",\n      onClick: () => this.handleClickPreviewMappedFields(),\n      className: this.state.activeInsights4 == true ? "issuerDashboard-table-top-button-rejected-active" : "issuerDashboard-table-top-button-rejected"\n    }, "Preview Map Fields"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {\n      type: "button",\n      onClick: () => this.handleClickSummarize(),\n      className: this.state.activeInsights5 == true ? "issuerDashboard-table-top-button-rejected-active" : "issuerDashboard-table-top-button-rejected"\n    }, "Summarize")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {\n      className: "part2 servicer-modal-acc"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {\n      className: "borderclass"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("h5", {\n      className: "headingpayment1-css"\n    }, "Loan Tape"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {\n      className: ""\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("form", {\n      className: "form-container-setup",\n      onSubmit: this.onSubmit1\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {\n      className: "servicer-popup-inner-container-sr"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("h6", {\n      className: "servicer-popup-inner-container-heading"\n    }, "Upload Loan Tape"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {\n      className: "kyc-card__button-container1"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {\n      className: "card__button",\n      style: {\n        position: "relative"\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("label", {\n      htmlFor: "icon-button-file-id21",\n      className: "upload-button-label1"\n    }, "Select File"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("input", {\n      required: true,\n      id: "icon-button-file-id21",\n      type: "file",\n      accept: ".csv,.xlsm, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"\n      // style={{ display: "none" }}\n      ,\n      style: {\n        position: "absolute",\n        width: "60%",\n        height: "100%",\n        cursor: "pointer",\n        top: "0",\n        right: "0px",\n        opacity: "0",\n        border: "1.2px solid #212121"\n      },\n      onChange: this.handleOnChange1\n    }))), this.state.file1 !== "" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {\n      className: "kyc-card__select_name-container"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("p", null, this.state.filename1))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {\n      className: "servicer-popup-upload-btn-contianer"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_8__["default"], {\n      variant: "contained",\n      color: "primary",\n      type: "submit"\n      // onClick={this.RecurringsetupDateQuery}\n    }, "Upload", this.state.formLoader === true ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_9__["default"], {\n      size: "22px",\n      color: "primary"\n    }) : "")))))))) : ""));\n  }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,notistack__WEBPACK_IMPORTED_MODULE_5__.withSnackbar)(ServicerUploadLoanTape));\n\n//# sourceURL=webpack://wsfs/./src/container/admin/Servicer/Servicer/ServicerUploadLoanTape.js?')}}]);