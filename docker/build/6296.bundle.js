"use strict";(self.webpackChunkwsfs=self.webpackChunkwsfs||[]).push([[6296],{92980:(e,t,a)=>{var s=a(22411);t.c=void 0;var i=s(a(93540)),n=a(17624);t.c=(0,i.default)((0,n.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown")},27572:(e,t,a)=>{var s=a(22411);t.c=void 0;var i=s(a(93540)),n=a(17624);t.c=(0,i.default)((0,n.jsx)("path",{d:"m7 14 5-5 5 5z"}),"ArrowDropUp")},56296:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E});var s=a(52536),i=a(23132),n=a.n(i),o=a(29496),r=a(46057),c=a(28),l=a(54563),h=a(92980),g=a(27572),d=a(70368),m=a(18600),u=a(74428),v=a(58124),p=a(67784),b=a(69656),D=a(98656),I=a.n(D),N=a(12552),S=a(42840);class y extends i.Component{constructor(e){super(e),(0,s.c)(this,"blockInvalidChar",(e=>{["e","E","+","-"].includes(e.key)&&e.preventDefault()})),(0,s.c)(this,"showPrev",(()=>{})),(0,s.c)(this,"showNext",(()=>{window.location.assign("/admin/tranches_recurring")})),(0,s.c)(this,"popoverBottom",(()=>n().createElement(d.c,{className:"servicer-popover-container"},n().createElement("button",{onClick:()=>this.General(this.state.DealName)},"Deal"),n().createElement("hr",{className:"servicer-popover-hr"}),n().createElement("button",{onClick:()=>{var e;return this.Loans(this.state.DealName,null===(e=this.state)||void 0===e?void 0:e.NextPaymentDate)}},"Loan Tape")))),(0,s.c)(this,"goBackToDashboard",(()=>{this.props.history.push({pathname:"/dashboard"})})),(0,s.c)(this,"handleClickGeneral",(()=>{this.setState({activeInsights1:!0,activeInsights2:!1,activeInsights3:!1,activeInsights4:!1,activeInsights5:!1,activeInsights6:!1,activeInsights7:!1,activeInsights8:!1,activeInsights9:!1,activeInsights10:!1,activeInsights11:!1,activeInsights12:!1,activeInsightsBB:!1})})),(0,s.c)(this,"handleClickTranches",(()=>{this.setState({activeInsights1:!1,activeInsights2:!0,activeInsights3:!1,activeInsights4:!1,activeInsights5:!1,activeInsights6:!1,activeInsights7:!1,activeInsights8:!1,activeInsights9:!1,activeInsights10:!1,activeInsights11:!1,activeInsights12:!1,activeInsightsBB:!1},(()=>sessionStorage.setItem("isTabChange",!0))),window.location.assign("/admin/tranches_recurring")})),(0,s.c)(this,"handleClickFees",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!0,activeInsights4:!1,activeInsights5:!1,activeInsights6:!1,activeInsights7:!1,activeInsights8:!1,activeInsights9:!1,activeInsights10:!1,activeInsights11:!1,activeInsights12:!1,activeInsightsBB:!1},(()=>sessionStorage.setItem("isTabChange",!0))),window.location.assign("/admin/fees_recurring")})),(0,s.c)(this,"handleClickExpenses",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!1,activeInsights4:!0,activeInsights5:!1,activeInsights6:!1,activeInsights7:!1,activeInsights8:!1,activeInsights9:!1,activeInsights10:!1,activeInsights11:!1,activeInsights12:!1,activeInsightsBB:!1},(()=>sessionStorage.setItem("isTabChange",!0))),window.location.assign("/admin/expenses_recurring")})),(0,s.c)(this,"handleClickAccounts",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!1,activeInsights4:!1,activeInsights5:!0,activeInsights6:!1,activeInsights7:!1,activeInsights8:!1,activeInsights9:!1,activeInsights10:!1,activeInsights11:!1,activeInsights12:!1,activeInsightsBB:!1},(()=>sessionStorage.setItem("isTabChange",!0))),window.location.assign("/admin/accounts_recurring")})),(0,s.c)(this,"handleClickTests",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!1,activeInsights4:!1,activeInsights5:!1,activeInsights6:!0,activeInsights7:!1,activeInsights8:!1,activeInsights9:!1,activeInsights10:!1,activeInsights11:!1,activeInsights12:!1,activeInsightsBB:!1},(()=>sessionStorage.setItem("isTabChange",!0))),window.location.assign("/admin/tests_recurring")})),(0,s.c)(this,"handleBorrowingBase",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!1,activeInsights4:!1,activeInsights5:!1,activeInsights6:!1,activeInsights7:!1,activeInsights8:!1,activeInsights9:!1,activeInsights10:!1,activeInsights11:!1,activeInsights12:!1,activeInsightsBB:!0},(()=>sessionStorage.setItem("isTabChange",!0))),window.location.assign("/admin/borrowingbase_recurring")})),(0,s.c)(this,"handleClickVariables",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!1,activeInsights4:!1,activeInsights5:!1,activeInsights6:!1,activeInsights7:!0,activeInsights8:!1,activeInsights9:!1,activeInsights10:!1,activeInsights11:!1,activeInsights12:!1,activeInsightsBB:!1},(()=>sessionStorage.setItem("isTabChange",!0))),window.location.assign("/admin/variable_recurring")})),(0,s.c)(this,"handleClickPaymentRules",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!1,activeInsights4:!1,activeInsights5:!1,activeInsights6:!1,activeInsights7:!1,activeInsights8:!0,activeInsights9:!1,activeInsights10:!1,activeInsights11:!1,activeInsights12:!1,activeInsightsBB:!1},(()=>sessionStorage.setItem("isTabChange",!0))),window.location.assign("/admin/payment_recurring")})),(0,s.c)(this,"handleClickCollateral",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!1,activeInsights4:!1,activeInsights5:!1,activeInsights6:!1,activeInsights7:!1,activeInsights8:!1,activeInsights9:!0,activeInsights10:!1,activeInsights11:!1,activeInsights12:!1,activeInsightsBB:!1}),window.location.assign("/admin/collateral_recurring")})),(0,s.c)(this,"handleClickLoanTape",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!1,activeInsights4:!1,activeInsights5:!1,activeInsights6:!1,activeInsights7:!1,activeInsights8:!1,activeInsights9:!1,activeInsights10:!0,activeInsights11:!1,activeInsights12:!1,activeInsightsBB:!1}),window.location.assign("/admin/loantape_recurring")})),(0,s.c)(this,"handleClickConsolidated",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!1,activeInsights4:!1,activeInsights5:!1,activeInsights6:!1,activeInsights7:!1,activeInsights8:!1,activeInsights9:!1,activeInsights10:!1,activeInsights11:!0,activeInsights12:!1,activeInsightsBB:!1}),window.location.assign("/admin/consolidated_recurring")})),(0,s.c)(this,"handleClickFiles",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!1,activeInsights4:!1,activeInsights5:!1,activeInsights6:!1,activeInsights7:!1,activeInsights8:!1,activeInsights9:!1,activeInsights10:!1,activeInsights11:!1,activeInsights12:!0,activeInsightsBB:!1}),window.location.assign("/admin/files_recurring")})),(0,s.c)(this,"generalRecurring",(async()=>{var e;let t=null===(e=this.state)||void 0===e?void 0:e.LastPaymentDate,a=t.slice(0,2),s=t.slice(6,10);var i={};if(i.DealName=this.state.DealName,i.Month=a,i.Year=s,i.Version="",i.NextPaymentDate="",i.LastPaymentDate=this.state.LastPaymentDate,i.peers=this.state.peer,console.log("datata",i),this.setState({screenloader:!0}),this.state.isTabChange)this.setState({screenloader:!0}),this.recurring();else{const e=await(0,N.CK)(i,this.state.token);if(console.log("generalOnPageReload",e.data),200===e.status)this.setState({screenloader:!0}),this.recurring();else{this.setState({screenloader:!1});const t=e.data.message;this.props.enqueueSnackbar(t,{variant:"error",autoHideDuration:3e3})}}})),(0,s.c)(this,"DealRecurring",(async()=>{var e;let t=null===(e=this.state)||void 0===e?void 0:e.NextPaymentDate,a=t.slice(0,2),s=t.slice(6,10);var i={};i.DealName=this.state.DealName,i.Month=a,i.Year=s,i.Version=this.state.Version,i.TableName=this.state.TableName,i.peer=this.state.peer,console.log("datata",i),this.setState({screenloader:!0});const n=await DealRecurring(i);if(console.log("generalDealRecurring",n.data),200===n.status)sessionStorage.setItem("isSecuritisation",n.data["Financing Type"]),sessionStorage.setItem("isESMA_Flag",n.data["ESMA Compliant"]||"No"),sessionStorage.setItem("Assetclass",n.data["Asset Class"]||void 0),this.setState({tableData:n.data,screenloader:!1});else if(201===n.status){const e=n.data.message;this.props.enqueueSnackbar(e,{variant:"info",autoHideDuration:3e3})}else{this.setState({screenloader:!1});const e=n.data.message;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3})}})),(0,s.c)(this,"recurring",(async()=>{var e;let t=null===(e=this.state)||void 0===e?void 0:e.LastPaymentDate,a=t.slice(0,2),s=t.slice(6,10);var i={};i.DealName=this.state.DealName,i.Month=a,i.Year=s,i.Version=this.state.Version,i.TableName=this.state.TableName,i.peer=this.state.peer,console.log("datata",i),this.setState({screenloader:!0});const n=await(0,N.oV)(i,this.state.token);if(console.log("generalDealRecurring",n.data),200===n.status)sessionStorage.setItem("isSecuritisation",n.data["Financing Type"]),sessionStorage.setItem("isESMA_Flag",n.data["ESMA Compliant"]||"No"),sessionStorage.setItem("Assetclass",n.data["Asset Class"]||void 0),this.setState({tableData:n.data,screenloader:!1});else if(201===n.status){const e=n.data.message;this.props.enqueueSnackbar(e,{variant:"info",autoHideDuration:3e3})}else{this.setState({screenloader:!1});const e=n.data.message;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3})}})),(0,s.c)(this,"onCloseModalBorrow",(()=>{this.setState({isBorrow:!1})})),(0,s.c)(this,"onOpenModalBorrow",(()=>{this.setState({isBorrow:!0})})),(0,s.c)(this,"checkBorrowBaseYes",(async()=>{this.setState({calculateBorrow:!0,BorrowingBase:"True",isBorrow:!1},(async()=>{await this.CalculatePrePayments()}))})),(0,s.c)(this,"checkBorrowBaseNo",(async()=>{this.setState({calculateBorrow:!1,BorrowingBase:"False",isBorrow:!1},(async()=>{await this.CalculatePrePayments()}))})),(0,s.c)(this,"CalculatePrePayments",(async()=>{var e,t,a;this.setState({getLoansLoader:!0,formLoader:!0,loading:!0});let s=null===(e=this.state)||void 0===e?void 0:e.NextPaymentDate,i=s.slice(0,2),n=s.slice(6,10);var o={};o.DealName=this.state.DealName,o.Month=i,o.Year=n,o.peers=this.state.peers,o.NextPaymentDate=null===(t=this.state)||void 0===t?void 0:t.NextPaymentDate,o.LastPaymentDate=null===(a=this.state)||void 0===a?void 0:a.LastPaymentDate,console.log("datata",o);const r=await CalculatePrePayments(o);if(console.log("GeneralCalculatePayments",r.data),200===r.status)if(!0===r.data.isSuccess)this.setState({getLoansLoader:!1,loading:!1,formLoader:!1}),this.CalculatePayments();else{const e=r.data.message;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3}),this.setState({formLoader:!1})}else{this.setState({getLoansLoader:!1,loading:!1});const e=r.data.message;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3}),this.setState({formLoader:!1})}})),(0,s.c)(this,"CalculatePayments",(async()=>{var e,t;this.setState({getLoansLoader:!0,formLoader:!0,loading:!0});let a=null===(e=this.state)||void 0===e?void 0:e.NextPaymentDate,s=a.slice(0,2),i=a.slice(6,10);var n={};n.DealName=this.state.DealName,n.Month=s,n.Year=i,n.BorrowingBase=this.state.BorrowingBase,n.peers=this.state.peers,n.CurrentPaymentDate=null===(t=this.state)||void 0===t?void 0:t.NextPaymentDate,console.log("datata",n);const o=await CalculatePayments(n);if(console.log("GeneralCalculatePayments",o.data),200===o.status)if(!0===o.data.isSuccess){this.setState({getLoansLoader:!1,loading:!1,formLoader:!1});const e=o.data.message;this.props.enqueueSnackbar(e,{variant:"info",autoHideDuration:3e3}),this.CalculateCollateralPayments()}else{const e=o.data.message;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3}),this.setState({formLoader:!1})}else{this.setState({getLoansLoader:!1,loading:!1});const e=o.data.message;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3}),this.setState({formLoader:!1})}})),(0,s.c)(this,"CalculateCollateralPayments",(async()=>{var e,t;this.setState({getLoansLoader:!0,formLoader:!0,loading:!0});let a=null===(e=this.state)||void 0===e?void 0:e.NextPaymentDate,s=a.slice(0,2),i=a.slice(6,10);var n={};n.DealName=this.state.DealName,n.Month=s,n.Year=i,n.peers=this.state.peers,n.userId=sessionStorage.getItem("user_id"),n.CurrentPaymentDate=null===(t=this.state)||void 0===t?void 0:t.NextPaymentDate,console.log("datata",n);const o=await CalculateCollateralPayments(n);if(console.log("GeneralCalculateCollateralPayments",o.data),200===o.status)if(!0===o.data.isSuccess){this.setState({getLoansLoader:!1,loading:!1,formLoader:!1});const e=o.data.message;this.props.enqueueSnackbar(e,{variant:"info",autoHideDuration:3e3}),await this.CalculateConsolidatedPayments()}else{const e=o.data.message;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3}),this.setState({formLoader:!1})}else{this.setState({getLoansLoader:!1,loading:!1});const e=o.data.message;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3}),this.setState({formLoader:!1})}})),(0,s.c)(this,"CalculateConsolidatedPayments",(async()=>{var e,t;this.setState({getLoansLoader:!0,formLoader:!0,loading:!0});let a=null===(e=this.state)||void 0===e?void 0:e.NextPaymentDate,s=a.slice(0,2),i=a.slice(6,10);var n={};n.DealName=this.state.DealName,n.Month=s,n.Year=i,n.peers=this.state.peers,n.userId=sessionStorage.getItem("user_id"),n.CurrentPaymentDate=null===(t=this.state)||void 0===t?void 0:t.NextPaymentDate,console.log("datata",n);const o=await CalculateConsolidatedPayments(n);if(console.log("PaymentCalculateConsolidatedPayments",o.data),200===o.status)if(!0===o.data.isSuccess){this.setState({getLoansLoader:!1,loading:!1,formLoader:!1});const e=o.data.message;this.props.enqueueSnackbar(e,{variant:"info",autoHideDuration:3e3}),"Yes"===sessionStorage.getItem("isESMA_Flag")?await this.CalculateESMAPayments():window.location.assign("/admin/general_recurring")}else{const e=o.data.message;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3}),this.setState({formLoader:!1})}else{this.setState({getLoansLoader:!1,loading:!1});const e=o.data.message;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3}),this.setState({formLoader:!1})}})),(0,s.c)(this,"CalculateESMAPayments",(async()=>{var e,t;this.setState({getLoansLoader:!0,formLoader:!0,loading:!0});let a=null===(e=this.state)||void 0===e?void 0:e.NextPaymentDate,s=a.slice(0,2),i=a.slice(6,10);var n={};n.DealName=this.state.DealName,n.Month=s,n.Year=i,n.peers=this.state.peers,n.userId=sessionStorage.getItem("user_id"),n.CurrentPaymentDate=null===(t=this.state)||void 0===t?void 0:t.NextPaymentDate,console.log("datata",n);const o=await CalculateESMAPayments(n);if(console.log("PaymentCalculateESMAPayments",o.data),200===o.status)if(!0===o.data.isSuccess){this.setState({getLoansLoader:!1,loading:!1,formLoader:!1});const e=o.data.message;this.props.enqueueSnackbar(e,{variant:"info",autoHideDuration:3e3}),window.location.assign("/admin/general_recurring")}else{const e=o.data.message;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3}),this.setState({formLoader:!1})}else{this.setState({getLoansLoader:!1,loading:!1});const e=o.data.message;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3}),this.setState({formLoader:!1})}})),(0,s.c)(this,"General",(e=>{sessionStorage.setItem("dealname",e),sessionStorage.setItem("dashChanges",!1),window.location.assign("/admin/general")})),(0,s.c)(this,"Loans",((e,t)=>{sessionStorage.setItem("dealname",e),sessionStorage.setItem("selectdate",t);let a=v(t).subtract(1,"months").format("MM/DD/YYYY").toString(),s=a.slice(0,2),i=a.slice(6,10);sessionStorage.setItem("month",s),sessionStorage.setItem("year",i),this.props.history.push({pathname:"/admin/viewdetails",state:{checkRecurring:!0,checkRecurringGeneral:!0,checkRecurringTranches:!1,checkRecurringFees:!1,checkRecurringExpenses:!1,checkRecurringAccounts:!1,checkRecurringTests:!1,checkRecurringVariables:!1,checkRecurringBorrowingBase:!1,checkRecurringPaymentRules:!1,Month:s,Year:i,ViewDate:t}})})),(0,s.c)(this,"handleDealNameChange",(async e=>{const t=e.target.value;sessionStorage.setItem("dealname",t),this.setState({DealName:t,isDisable:!0},(async()=>{console.log("pppppp",this.state.DealName),await this.getAllPaymentDatesByDealName();const{Version:e,getDashboardVersions:t}=this.state;if("WIP"!==e&&"V1"!==e||1!==t.length){function a(e){let t=-1,a="";for(const s of e){const e=s.match(/\d+/);if(e){const i=parseInt(e[0]);i>t&&(t=i,a=s.replace(/\d+/g,""))}}return t>=0?a+t:null}e!==a(t)?(this.setState({isDisable:this.state.isDisable}),await this.DealRecurring()):this.setState({isDisable:!1,Version:"WIP"},(async()=>{await this.generalOnPageReload(),this.setState({checkLoadStatus:!1})}))}else this.setState({isDisable:!1,Version:"WIP"},(async()=>{await this.generalOnPageReload(),this.setState({checkLoadStatus:!1})}))}))})),(0,s.c)(this,"getAllPaymentDatesByDealName",(async()=>{this.setState({getLoansLoader:!0,loading:!0,screenloader:!0}),console.log("ssssssssssssssssssssss",this.state.NextPaymentDate);var e={};e.DealName=this.state.DealName,e.peer=this.state.peer,console.log("datata",e);const t=await getAllPaymentDatesByDealName(e);if(console.log("getAllPaymentDatesByDealName",t.data),200===t.status)sessionStorage.setItem("nextpaymentdate",t.data.PaymentDates[0]),sessionStorage.setItem("getDashboardDates",JSON.stringify(t.data.PaymentDates)),sessionStorage.setItem("version",t.data.Version[0]),sessionStorage.setItem("getDashboardVersions",JSON.stringify(t.data.Version)),sessionStorage.setItem("isLoansProcessed",t.data.LoanProcessed),this.setState({getLoansLoader:!1,loading:!1,getDashboardDates:JSON.parse(sessionStorage.getItem("getDashboardDates")),NextPaymentDate:sessionStorage.getItem("nextpaymentdate"),getDashboardVersions:JSON.parse(sessionStorage.getItem("getDashboardVersions")),Version:sessionStorage.getItem("version"),isLoansProcessed:sessionStorage.getItem("isLoansProcessed")},(()=>console.log("vvvvvvvvvvvvvvv",this.state.getDashboardVersions)));else if(201===t.status){const e=t.data.message;this.props.enqueueSnackbar(e,{variant:"info",autoHideDuration:3e3})}else{this.setState({screenloader:!1});const e=t.data.message;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3})}})),(0,s.c)(this,"handlePaymentDateChange",(async e=>{const t=e.target.value;sessionStorage.setItem("nextpaymentdate",t),this.setState({NextPaymentDate:t,isDisable:!0},(async()=>{console.log("pppppp",this.state.NextPaymentDate),await this.getAllVersionsByPaymentDate();const{Version:e,getDashboardVersions:t}=this.state;if("WIP"!==e&&"V1"!==e||1!==t.length){function a(e){let t=-1,a="";for(const s of e){const e=s.match(/\d+/);if(e){const i=parseInt(e[0]);i>t&&(t=i,a=s.replace(/\d+/g,""))}}return t>=0?a+t:null}e!==a(t)?(this.setState({isDisable:this.state.isDisable}),await this.DealRecurring()):this.setState({isDisable:!1,Version:"WIP"},(async()=>{await this.generalOnPageReload(),this.setState({checkLoadStatus:!1})}))}else this.setState({isDisable:!1,Version:"WIP"},(async()=>{await this.generalOnPageReload(),this.setState({checkLoadStatus:!1})}))}))})),(0,s.c)(this,"getAllVersionsByPaymentDate",(async()=>{this.setState({getLoansLoader:!0,loading:!0,screenloader:!0}),console.log("ssssssssssssssssssssss",this.state.NextPaymentDate);var e={};e.DealName=this.state.DealName,e.selectedDate=this.state.NextPaymentDate,e.peer=this.state.peer,console.log("datata",e);const t=await getAllVersionsByPaymentDate(e);if(console.log("PaymentgetAllVersionsByPaymentDate",t.data),200===t.status)sessionStorage.setItem("version",t.data.Version[0]),sessionStorage.setItem("getDashboardVersions",JSON.stringify(t.data.Version)),sessionStorage.setItem("isLoansProcessed",t.data.LoanProcessed),this.setState({getLoansLoader:!1,loading:!1,getDashboardVersions:JSON.parse(sessionStorage.getItem("getDashboardVersions")),Version:sessionStorage.getItem("version"),isLoansProcessed:sessionStorage.getItem("isLoansProcessed")},(()=>console.log("vvvvvvvvvvvvvvv",this.state.getDashboardVersions)));else if(201===t.status){const e=t.data.message;this.props.enqueueSnackbar(e,{variant:"info",autoHideDuration:3e3})}else{this.setState({screenloader:!1});const e=t.data.message;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3})}})),(0,s.c)(this,"handleVersionChange",(async e=>{const{Version:t,getDashboardVersions:a}=this.state,s=e.target.value;sessionStorage.setItem("version",s),this.setState({Version:s,isDisable:!0},(async()=>{if("WIP"!==t&&"V1"!==t||1!==a.length){function e(e){let t=-1,a="";for(const s of e){const e=s.match(/\d+/);if(e){const i=parseInt(e[0]);i>t&&(t=i,a=s.replace(/\d+/g,""))}}return t>=0?a+t:null}const s=e(a);sessionStorage.getItem("version")!==s?(this.setState({isDisable:this.state.isDisable}),await this.DealRecurring()):this.setState({isDisable:!1,Version:"WIP"},(async()=>{await this.generalOnPageReload(),this.setState({checkLoadStatus:!1})}))}else this.setState({isDisable:!1,Version:"WIP"},(async()=>{await this.generalOnPageReload(),this.setState({checkLoadStatus:!1})}))}))})),this.state={selectedRow:null,token:sessionStorage.getItem("token"),loading:!1,getLoansLoader:!1,openPopup:!1,searchText:"",tableData:{Servicer:[],"Originator Name":[],"Rating Agency":[]},DealName:sessionStorage.getItem("dealName"),dealID:sessionStorage.getItem("dealId"),NextPaymentDate:sessionStorage.getItem("nextpaymentdate"),LastPaymentDate:sessionStorage.getItem("firstPaymentDate"),isLoansProcessed:sessionStorage.getItem("isLoansProcessed"),Version:sessionStorage.getItem("version"),isSecuritisation:sessionStorage.getItem("isSecuritisation"),Assetclass:sessionStorage.getItem("Assetclass"),isESMA_Flag:sessionStorage.getItem("isESMA_Flag"),colorTable:sessionStorage.getItem("colorTable"),VersionsChange:[],isDisable:JSON.parse(sessionStorage.getItem("isdisable")),isTabChange:JSON.parse(sessionStorage.getItem("isTabChange")),TableName:"General",peer:sessionStorage.getItem("peer_insurer"),peers:JSON.parse(sessionStorage.getItem("peers")),getDashboardDeals:JSON.parse(sessionStorage.getItem("getDashboardDeals")),getDashboardDates:JSON.parse(sessionStorage.getItem("getDashboardDates")),getDashboardVersions:JSON.parse(sessionStorage.getItem("getDashboardVersions")),rowsSelected:null,isBorrow:!1,BorrowingBase:"False",activeInsights1:!0,activeInsights2:!1,activeInsights3:!1,activeInsights4:!1,activeInsights5:!1,activeInsights6:!1,activeInsights7:!1,activeInsights8:!1,activeInsights9:!1,activeInsights10:!1,activeInsights11:!1,activeInsights12:!1,activeInsightsBB:!1,screenloader:!1,pooldetails:{},token:sessionStorage.getItem("token")}}async componentDidMount(){var e=window.location.pathname;sessionStorage.setItem("component",e),this.generalRecurring(),this.recurring()}render(){var e,t,a,s,i,c,d,v;return n().createElement(n().Fragment,null,n().createElement("div",{className:"page"},n().createElement(o.c,{activeComponent:"ReccuringDeals"}),n().createElement("div",{className:"content1"},1==this.state.screenloader?n().createElement(u.c,null):n().createElement(n().Fragment,null,n().createElement("div",{className:"page-content"},n().createElement("div",{className:"row row1"},n().createElement("div",{className:"col-12 col-sm-6 col-md-7 d-flex hellocard",style:{justifyContent:"space-between",alignItems:"center",marginTop:"1.5rem",width:"90rem"}},n().createElement("div",{style:{display:"flex",paddingBottom:"1.6rem"}},n().createElement(l.c,{onClick:this.goBackToDashboard,className:"left-arrow-muis1 left-arrow-servicer"}),n().createElement("h3",{className:"headerdashboard"},"Deal Recurring")))),n().createElement("div",{className:"row1 css-recurring"},n().createElement("div",{className:"recurring_details_new"},n().createElement("div",null,n().createElement("label",{className:"dealInfo"},"Deal Name : "),n().createElement("div",null,n().createElement("select",{className:"input-select-general-new1-deal",value:null===(e=this.state)||void 0===e?void 0:e.DealName,onChange:this.handleDealNameChange},null===(t=this.state.getDashboardDeals)||void 0===t?void 0:t.map(((e,t)=>n().createElement("option",{key:t,value:e},e)))))),n().createElement("div",null,n().createElement("label",{className:"dealInfo"},"Payment Date : "),n().createElement("div",null,n().createElement("select",{className:"input-select-general-new1",value:null===(a=this.state)||void 0===a?void 0:a.NextPaymentDate,onChange:this.handlePaymentDateChange},null===(s=this.state.getDashboardDates)||void 0===s?void 0:s.map((e=>n().createElement("option",{key:e,value:e},e)))))),n().createElement("div",null,n().createElement("label",{className:"dealInfo"},"Version : "),n().createElement("div",null,n().createElement("select",{className:"input-select-general-new1",value:"WIP"===this.state.Version?sessionStorage.getItem("version"):this.state.Version,onChange:this.handleVersionChange},null===(i=this.state.getDashboardVersions)||void 0===i?void 0:i.map((e=>n().createElement("option",{key:e,value:e},e))))))),n().createElement("div",{className:"buttonsverified uw-deal-details-button-container"},n().createElement(m.c,{rootClose:!0,trigger:"click",placement:"bottom",overlay:this.popoverBottom()},n().createElement(r.c,{variant:"outlined",onClick:()=>this.setState((e=>({downArrow:!e.downArrow})))},"Edit",this.state.downArrow?n().createElement(h.c,null):n().createElement(g.c,null))),!0===this.state.isDisable||"No"===this.state.isLoansProcessed?n().createElement(r.c,{variant:"contained",color:"primary",onClick:this.CalculatePrePayments,disabled:!0},"Calculate",!0===this.state.formLoader?n().createElement(p.c,{size:"22px",color:"primary"}):""):n().createElement(r.c,{variant:"contained",color:"primary",onClick:"Securitisation"!==sessionStorage.getItem("isSecuritisation")?this.onOpenModalBorrow:this.CalculatePrePayments},"Calculate",!0===this.state.formLoader?n().createElement(p.c,{size:"22px",color:"primary"}):""))),n().createElement("div",{className:"row row1"},n().createElement("div",null,n().createElement("div",{className:"tablechangebuttonloans"},n().createElement("button",{type:"button",onClick:()=>this.handleClickGeneral(),className:1==this.state.activeInsights1?"issuerDashboard-table-top-button-insights-active":"issuerDashboard-table-top-button-insights"},"General"),"No"===this.state.isLoansProcessed?n().createElement("button",{type:"button",onClick:()=>this.handleClickTranches(),className:1==this.state.activeInsights2?"issuerDashboard-table-top-button-workbench-active":"issuerDashboard-table-top-button-workbench",disabled:!0},"Tranches"):n().createElement("button",{type:"button",onClick:()=>this.handleClickTranches(),className:1==this.state.activeInsights2?"issuerDashboard-table-top-button-workbench-active":"issuerDashboard-table-top-button-workbench"},"Tranches"),"No"===this.state.isLoansProcessed?n().createElement("button",{type:"button",onClick:()=>this.handleClickFees(),className:1==this.state.activeInsights3?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected",disabled:!0},"Fees"):n().createElement("button",{type:"button",onClick:()=>this.handleClickFees(),className:1==this.state.activeInsights3?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected"},"Fees"),"No"===this.state.isLoansProcessed?n().createElement("button",{type:"button",onClick:()=>this.handleClickExpenses(),className:1==this.state.activeInsights4?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected",disabled:!0},"Expenses"):n().createElement("button",{type:"button",onClick:()=>this.handleClickExpenses(),className:1==this.state.activeInsights4?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected"},"Expenses"),"No"===this.state.isLoansProcessed?n().createElement("button",{type:"button",onClick:()=>this.handleClickAccounts(),className:1==this.state.activeInsights5?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected",disabled:!0},"Accounts"):n().createElement("button",{type:"button",onClick:()=>this.handleClickAccounts(),className:1==this.state.activeInsights5?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected"},"Accounts"),"No"===this.state.isLoansProcessed?n().createElement("button",{type:"button",onClick:()=>this.handleClickTests(),className:1==this.state.activeInsights6?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected",disabled:!0},"Tests"):n().createElement("button",{type:"button",onClick:()=>this.handleClickTests(),className:1==this.state.activeInsights6?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected"},"Tests"),"No"===this.state.isLoansProcessed&&"Securitisation"!==sessionStorage.getItem("isSecuritisation")?n().createElement("button",{type:"button",onClick:()=>this.handleBorrowingBase(),className:1==this.state.activeInsightsBB?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected",disabled:!0},"Borrowing Base"):"Securitisation"!==sessionStorage.getItem("isSecuritisation")?n().createElement("button",{type:"button",onClick:()=>this.handleBorrowingBase(),className:1==this.state.activeInsightsBB?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected"},"Borrowing Base"):null,"No"===this.state.isLoansProcessed?n().createElement("button",{type:"button",onClick:()=>this.handleClickVariables(),className:1==this.state.activeInsights7?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected",disabled:!0},"Variables"):n().createElement("button",{type:"button",onClick:()=>this.handleClickVariables(),className:1==this.state.activeInsights7?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected"},"Variables"),"No"===this.state.isLoansProcessed?n().createElement("button",{type:"button",onClick:()=>this.handleClickPaymentRules(),className:1==this.state.activeInsights8?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected",disabled:!0},"Payment Rules"):n().createElement("button",{type:"button",onClick:()=>this.handleClickPaymentRules(),className:1==this.state.activeInsights8?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected"},"Payment Rules")))),n().createElement("div",{className:"row row1"},n().createElement("div",{className:"investor-heading-container"},n().createElement("h1",{className:"headerdashboard1"},"General Details"))),n().createElement(n().Fragment,null,n().createElement("div",{className:"page-content1"},n().createElement("h5",{className:"headingspace"}),n().createElement("div",{className:"row"},n().createElement("div",{className:"col"},n().createElement("div",{className:"headingspaces1"},n().createElement("p",{className:"sizeofp"},"Deal ID"),n().createElement("h6",{className:"headingspace1"},void 0===this.state.tableData["Deal Id"]?"-":this.state.tableData["Deal Id"])),n().createElement("div",{className:"headingspaces1"},null===(c=this.state.tableData["Originator Name"])||void 0===c?void 0:c.map(((e,t)=>n().createElement(n().Fragment,null,n().createElement("p",{className:"sizeofp"},"Originator ",t+1," Name"),n().createElement("h6",{className:"headingspace1"},""===e?"-":e))))),n().createElement("div",{className:"headingspaces1"},n().createElement("p",{className:"sizeofp"},"Payment Date"),n().createElement("h6",{className:"headingspace1"},void 0===this.state.tableData["Payment Date"]?"-":this.state.tableData["Payment Date"])),n().createElement("div",{className:"headingspaces1"},n().createElement("p",{className:"sizeofp"},"Initial Deal Size"),n().createElement("h6",{className:"headingspace1"},void 0!==this.state.tableData["Initial Deal Size"]&&""!==this.state.tableData["Initial Deal Size"]?n().createElement(b.c,{value:this.state.tableData["Initial Deal Size"]}):"-")),n().createElement("div",{className:"headingspaces1"},n().createElement("p",{className:"sizeofp"},"Cut-off Date"),n().createElement("h6",{className:"headingspace1"},void 0!==this.state.tableData["Cutoff Date"]&&""!==this.state.tableData["Cutoff Date"]?n().createElement(b.c,{value:this.state.tableData["Cutoff Date"]}):"-")),n().createElement("div",{className:"headingspaces1"},n().createElement("p",{className:"sizeofp"},"Master Trust Flag"),n().createElement("h6",{className:"headingspace1"},void 0===this.state.tableData["Master Trust Flag"]||""===this.state.tableData["Master Trust Flag"]?"-":this.state.tableData["Master Trust Flag"]))),n().createElement("div",{className:"col"},n().createElement("div",{className:"headingspaces1"},n().createElement("p",{className:"sizeofp"},"Deal Name"),n().createElement("h6",{className:"headingspace1"},void 0===this.state.tableData["Deal Name"]||""===this.state.tableData["Deal Name"]?"-":this.state.tableData["Deal Name"])),n().createElement("div",{className:"headingspaces1"},n().createElement("p",{className:"sizeofp"},"First Payment Date"),n().createElement("h6",{className:"headingspace1"},void 0===this.state.tableData["First Payment Date"]||""===this.state.tableData["First Payment Date"]?"-":this.state.tableData["First Payment Date"])),n().createElement("div",{className:"headingspaces1"},n().createElement("p",{className:"sizeofp"},"Legal Maturity Date"),n().createElement("h6",{className:"headingspace1"},void 0===this.state.tableData["Legal Maturity Date"]||""===this.state.tableData["Legal Maturity Date"]?"-":this.state.tableData["Legal Maturity Date"])),n().createElement("div",{className:"headingspaces1"},n().createElement("p",{className:"sizeofp"},"Delinquency Method"),n().createElement("h6",{className:"headingspace1"},void 0===this.state.tableData["Delinquency Method"]||""===this.state.tableData["Delinquency Method"]?"-":this.state.tableData["Delinquency Method"])),n().createElement("div",{className:"headingspaces1"},n().createElement("p",{className:"sizeofp"},"Determination Date"),n().createElement("h6",{className:"headingspace1"},void 0!==this.state.tableData["Determination Date"]&&""!==this.state.tableData["Determination Date"]?n().createElement(b.c,{value:this.state.tableData["Determination Date"]}):"-"))),n().createElement("div",{className:"col"},n().createElement("div",{className:"headingspaces1"},n().createElement("p",{className:"sizeofp"},"Issuer Name"),n().createElement("h6",{className:"headingspace1"},void 0===this.state.tableData["Issuer Name"]||""===this.state.tableData["Issuer Name"]?"-":this.state.tableData["Issuer Name"])),n().createElement("div",{className:"headingspaces1"},null===(d=this.state.tableData["Rating Agency"])||void 0===d?void 0:d.map(((e,t)=>n().createElement(n().Fragment,null,n().createElement("p",{className:"sizeofp"},"Rating Agency ",t+1," Name"),n().createElement("h6",{className:"headingspace1"},""===e?"-":e))))),n().createElement("div",{className:"headingspaces1"},n().createElement("p",{className:"sizeofp"},"Closing Date"),n().createElement("h6",{className:"headingspace1"},void 0===this.state.tableData["Closing Date"]||""===this.state.tableData["Closing Date"]?"-":this.state.tableData["Closing Date"])),n().createElement("div",{className:"headingspaces1"},n().createElement("p",{className:"sizeofp"},"Payment Frequency"),n().createElement("h6",{className:"headingspace1"},void 0===this.state.tableData["Payment Frequency"]||""===this.state.tableData["Payment Frequency"]?"-":this.state.tableData["Payment Frequency"])),n().createElement("div",{className:"headingspaces1"},n().createElement("p",{className:"sizeofp"},"Record Date"),n().createElement("h6",{className:"headingspace1"},void 0!==this.state.tableData["Record Date"]&&""!==this.state.tableData["Record Date"]?n().createElement(b.c,{value:this.state.tableData["Record Date"]}):"-"))),n().createElement("div",{className:"col"},n().createElement("div",{className:"headingspaces1"},null===(v=this.state.tableData)||void 0===v||null===(v=v.Servicer)||void 0===v?void 0:v.map(((e,t)=>n().createElement(n().Fragment,null,n().createElement("p",{className:"sizeofp"},"Servicer ",t+1," Name"),n().createElement("h6",{className:"headingspace1"},""===e?"-":e))))),n().createElement("div",{className:"headingspaces1"},n().createElement("p",{className:"sizeofp"},"Pricing Date"),n().createElement("h6",{className:"headingspace1"},void 0===this.state.tableData["Pricing Date"]||""===this.state.tableData["Pricing Date"]?"-":this.state.tableData["Pricing Date"])),n().createElement("div",{className:"headingspaces1"},n().createElement("p",{className:"sizeofp"},"Asset Class"),n().createElement("h6",{className:"headingspace1"},void 0===this.state.tableData["Asset Class"]||""===this.state.tableData["Asset Class"]?"-":this.state.tableData["Asset Class"])),n().createElement("div",{className:"headingspaces1"},n().createElement("p",{className:"sizeofp"},"Financing Type"),n().createElement("h6",{className:"headingspace1"},void 0===this.state.tableData["Financing Type"]||""===this.state.tableData["Financing Type"]?"-":this.state.tableData["Financing Type"])),n().createElement("div",{className:"headingspaces1"},n().createElement("p",{className:"sizeofp"},"ESMA Compliant"),n().createElement("h6",{className:"headingspace1"},void 0===this.state.tableData["ESMA Compliant"]||""===this.state.tableData["ESMA Compliant"]?"-":this.state.tableData["ESMA Compliant"]))))))),n().createElement("div",{id:"modal1"},n().createElement(I(),{isOpen:this.state.isBorrow,onRequestClose:this.onCloseModalBorrow,contentLabel:"Minimal Modal Example",style:S.Ur},n().createElement(n().Fragment,null,n().createElement("div",{className:"modalPopup"},n().createElement("h3",{className:"popupheading"},"Do you want to run Payment Waterfall?"),n().createElement("div",{className:"modalshiftcontent"},n().createElement("div",{className:"modalsubmit"},n().createElement("div",{className:"submitbuttonbg"},n().createElement("div",{className:"row"},n().createElement("div",{className:"row justify-content-start11"},n().createElement("button",{type:"button",className:"popupbutton1",onClick:this.onCloseModalBorrow},"Cancel")),n().createElement("div",{className:"row justify-content-end11"},n().createElement("button",{type:"button",className:"popupbutton1",onClick:this.checkBorrowBaseNo},"No"),n().createElement(r.c,{variant:"contained",color:"primary",type:"submit",onClick:this.checkBorrowBaseYes},"Yes")))))))))),n().createElement(n().Fragment,null,n().createElement("div",{className:"btn_move"},"No"===this.state.isLoansProcessed?n().createElement("button",{className:"btn_next",onClick:this.showNext,disabled:!0},"Next"):n().createElement("button",{className:"btn_next",onClick:this.showNext},"Next")))))))}}const E=(0,c.withSnackbar)(y)}}]);