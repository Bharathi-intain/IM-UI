"use strict";(self.webpackChunkwsfs=self.webpackChunkwsfs||[]).push([[7048],{24832:(e,t,a)=>{var n=a(22411),s=a(81480);t.c=void 0;var o=s(a(23132)),l=(0,n(a(78452)).default)(o.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");t.c=l},82168:(e,t,a)=>{var n=a(22411),s=a(81480);t.c=void 0;var o=s(a(23132)),l=(0,n(a(78452)).default)(o.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"}),"Public");t.c=l},13376:(e,t,a)=>{var n=a(22411);t.c=void 0;var s=n(a(93540)),o=a(17624);t.c=(0,s.default)((0,o.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download")},57048:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Q});var n=a(52536),s=a(23132),o=a.n(s),l=a(29496),i=a(20304),r=a.n(i),c=a(33887),m=a(46057),d=a(23124),p=(a(91156),a(74428)),h=a(33912),u=a.n(h),g=a(37048),y=(a(58124),a(28)),b=a(67784),E=(a(25104),a(39960),a(98656)),v=a.n(E),f=a(42840),w=(a(55792),a(12552)),N=(a(66797),a(86132),a(68664),a(45652)),C=a(89240),S=a(54928),D=(a(3076),a(83380),a(9840),a(75677),a(79820),a(59396)),k=a(13376),x=a(90256),T=a(61562),M=a(79592),I=a(68857),B=a(4632),P=a(24832),R=a(82168),A=a(78272),F=a(54563),O=a(69656);const L=[{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"uint256",name:"initialSupply",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];var U=a(60452),z=a.n(U),H=a(37949),q=a.n(H),_=(a(76132),a(65628)),W=a(38260),V=a.n(W),j=a(72164),Y=a.n(j);a(54849).createBrowserHistory();const K=[{name:"Senior (22UAE16)",status:"Done"},{name:"Senior (22UAE22)",status:"Remaining"},{name:"Senior (22UAE08)",status:"Remaining"}];Math.PI;class J extends s.Component{constructor(e){super(e),(0,n.c)(this,"handleOnChangeAdd",(e=>{this.setState((t=>({selectedData:[...t.selectedData,e]})))})),(0,n.c)(this,"handleOnChnageRemove",(e=>{const t=this.state.selectedData;if(t.length>0){let a=t.findIndex((t=>t.name===e.name));t.splice(a,1),this.setState({selectedData:t})}})),(0,n.c)(this,"onOpenModal4",(e=>{console.log("e",e),this.setState({open5:!0,documentDetail:e,formData1:{documentname:e.documentname,description:e.description,privacymode:e.privacymode}})})),(0,n.c)(this,"onCloseModal4",(()=>{this.setState({open5:!1})})),(0,n.c)(this,"onOpenModal",((e,t,a)=>{console.log("aprrove issuer"),this.setState({open1:!0,trancheId:e,principalBalance:t,deployedaddress:a})})),(0,n.c)(this,"onOpenModal3",((e,t,a)=>{console.log("aprrove issuer"),this.setState({open4:!0,trancheId:e,principalBalance:t,deployedaddress:a})})),(0,n.c)(this,"onOpenModal1",(()=>{console.log("publish popup"),this.setState({open2:!0})})),(0,n.c)(this,"onOpenModal2",((e,t,a)=>{console.log("new aprrove issuer"),this.setState({open3:!0,trancheId:e,principalBalance:t,deployedaddress:a})})),(0,n.c)(this,"onCloseModal",(()=>{this.setState({open1:!1})})),(0,n.c)(this,"onCloseModal1",(()=>{this.setState({open2:!1})})),(0,n.c)(this,"onCloseModal2",(()=>{this.setState({open3:!1})})),(0,n.c)(this,"onCloseModal3",(()=>{this.setState({open4:!1,formData:{selectType:"Private Key",privateKey:"",PrivatePassword:""},file1:"",password:"",password1:"",showMessageData1:"",showMessageData:""})})),(0,n.c)(this,"onSubmit1",(e=>{e.preventDefault(),console.log(this.state.formData);var t=V().AES.encrypt(JSON.stringify(this.state.password1),"ALtReKQqUH1VTh43vNomog==").toString();console.log("ciphertext",t),"Private Key"==this.state.formData.selectType?this.approvetranche(t):this.approvetranchebywalletfile()})),(0,n.c)(this,"handleOnChange2",(e=>{this.setState({file1:e.target.files[0],filename1:e.target.files[0].name}),console.log("eeee",e.target.files[0].name,this.state.file1)})),(0,n.c)(this,"handleOnClick1",(e=>{this.setState({formData:{...this.state.formData,privateKey:e.target.value}})})),(0,n.c)(this,"handleButtonClick1",(()=>{this.setState((e=>({showPassword1:!e.showPassword1})))})),(0,n.c)(this,"handleOnClick2",(e=>{this.setState({formData:{...this.state.formData,PrivatePassword:e.target.value}})})),(0,n.c)(this,"handleButtonClick2",(()=>{this.setState((e=>({show:!e.show})))})),(0,n.c)(this,"onchange",(e=>{this.setState({searchText:e.target.value,searchType:!0}),console.log("search: e.target.value",e.target.value)})),(0,n.c)(this,"searchBar",(()=>o().createElement("div",{className:"search-bar-main-container",id:"searchBox"},o().createElement("div",{className:"tableSearch1"},o().createElement(c.c,{value:this.state.searchText,onChange:this.onchange,placeholder:"Search",variant:"standard",size:"small"})),o().createElement("button",{type:"button",onClick:this.onClickCloseSearchBar,className:"close-mui-icon"},o().createElement(g.default,null))))),(0,n.c)(this,"onClickCloseSearchBar",(()=>{this.setState({searchText:""}),this.setState({showSearchBox:!1})})),(0,n.c)(this,"onClickSearchButton",(()=>{this.setState({showSearchBox:!0})})),(0,n.c)(this,"handleClicks",(()=>{window.location.assign("/admin/issuerinsights")})),(0,n.c)(this,"getDealDetailsByDealId",(async()=>{var e={};e.dealid=this.state.dealId,e.userid=this.state.UserId,console.log("datata",e),this.setState({screenloader:!0}),e.token=this.state.token;const t=await(0,w.iu)(e);if(200===t.status){this.setState({screenloader:!1,IssuerCChainAddress:t.data.dealData.UserAccountAddress,dealData:t.data.dealData,tableData:t.data.trancheData,paymentRules:t.data.paymentRules,dealDocuments:t.data.dealDocuments}),sessionStorage.setItem("paymentmode",t.data.dealData.paymentmode),console.log("IssuerCChainAddress",t.data.dealData.UserAccountAddress);for(var a=0;a<t.data.trancheData.length;a++){if("Approved"!==t.data.trancheData[a].approvestatus){this.setState({publishButton:!0});break}this.setState({publishButton:!1})}}else{this.setState({screenloader:!1});const e="Couldn't create the deal";this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3})}})),(0,n.c)(this,"PoolDetails",(async()=>{window.location.assign("/admin/pooldetails")})),(0,n.c)(this,"PublishUW",(async()=>{var e={};e.dealid=this.state.dealId,e.status="Open",console.log("datata",e),this.setState({formLoader:!0,investorstatus:!0}),e.token=this.state.token;if(200==(await(0,w.Ez)(e)).status){this.setState({formLoader:!1,investorstatus:!1});const e="Deal Update Status Success";this.props.enqueueSnackbar(e,{variant:"info",autoHideDuration:3e3}),this.onCloseModal1()}else{this.setState({formLoader:!1,investorstatus:!1});const e="Couldn't fetch the record";this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3})}})),(0,n.c)(this,"meta",(async()=>{this.setState({formloadmetamask:!0,metamaskstatus:!0});const e=new(z())(z().givenProvider||"http://localhost:3000");let t=101122;if(console.log("net v",window.ethereum.networkVersion),window.ethereum.networkVersion!==t){console.log("BEFORE TRYY");try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:e.utils.toHex(t)}]}),console.log("TRYYY"),this.newfun()}catch(a){console.log("BEFORE error code",a.code),4902===a.code&&(console.log("Inside error 4902"),await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainName:"IntainMarketsTest",chainId:e.utils.toHex(t),nativeCurrency:{name:"IMA",decimals:18,symbol:"IMA"},rpcUrls:["http://104.42.155.78:9650/ext/bc/2ALtzRYgRpRWnTgjdrMArkMvU6RTpcjs7VWmupqYaPrHDrHLSd/rpc"]}]}),console.log("CATCH"))}console.log("After CATCH")}else this.newfun()})),(0,n.c)(this,"newfun",(async e=>{this.setState({formloadmetamask:!0,metamaskstatus:!0});const t=new(z())(z().givenProvider||"http://localhost:3000");let a=await t.eth.getAccounts();a[0]==this.state.IssuerCChainAddress?(this.setState({account:a[0]}),console.log("DYnamic value"+a[0]),this.approve(a[0])):(a=await window.ethereum.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}).then((()=>window.ethereum.request({method:"eth_requestAccounts"}))),console.log("request permission1",a),this.setState({account:a[0]}),console.log("request permission2"+a[0]),this.approve(a[0]))})),(0,n.c)(this,"approve",(async e=>{this.setState({formloadmetamask:!0,metamaskstatus:!0});new(new(z())(z().givenProvider||"http://localhost:3000").eth.Contract)(L,this.state.deployedaddress).methods.approve("0xC60B683D1835B72A1f3CdAE3ac29b49607F0176D",(parseFloat(this.state.principalBalance)*Math.pow(10,6)).toString()).send({from:e}).once("receipt",(e=>{console.log("SUccess",JSON.stringify(e)),this.setState({formloadmetamask:!0,metamaskstatus:!0});this.props.enqueueSnackbar("Metamask Transaction Successfull",{variant:"info",autoHideDuration:5e3}),this.updatetranchestatus()})).then("receipt",(e=>{if(this.setState({formloadmetamask:!1,metamaskstatus:!1}),console.log("Reject",JSON.stringify(e)),e.message.includes("User denied transaction signature")){const e="User Denied Transaction Signature";this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:5e3})}})).catch((e=>alert(e.message)))})),(0,n.c)(this,"updatetranchestatus",(async()=>{var e={};e.trancheid=this.state.trancheId,e.approvestatus="Approved",e.token=this.state.token,console.log("datata",e),this.setState({formloadmetamask:!0,metamaskstatus:!0});if(200===(await(0,w.Ql)(e)).status){this.setState({formloadmetamask:!1,metamaskstatus:!1});const e="Tranche Update Status Successfull";this.props.enqueueSnackbar(e,{variant:"info",autoHideDuration:3e3}),this.onCloseModal(),this.getDealDetailsByDealId()}else{this.setState({formloadmetamask:!1,metamaskstatus:!1});const e="Something went wrong";this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3}),this.onCloseModal()}})),(0,n.c)(this,"approvetranche",(async e=>{var t={};t.trancheid=this.state.trancheId,t.privatekey=e,t.token=this.state.token,t.issueraddress=this.state.issueraddress,console.log("datata",t),this.setState({formLoader:!0});const a=await(0,w.CQ)(t);if(200===a.status){this.setState({formLoader:!1});const e="Tranche Approval Success";this.props.enqueueSnackbar(e,{variant:"info",autoHideDuration:3e3}),this.onCloseModal3(),this.getDealDetailsByDealId()}else if(201===a.status)this.setState({showMessage:!0,showMessageData1:a.data.message,formLoader:!1});else{this.setState({formLoader:!1});const e="Something went wrong";this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3}),this.onCloseModal3()}})),(0,n.c)(this,"approvetranchebywalletfile",(async()=>{const e=new FormData;e.append("filename",this.state.file1),e.append("trancheid",this.state.trancheId),e.append("password",this.state.password),e.append("issueraddress",this.state.issueraddress),e.append("token",this.state.token),console.log("newdata",e),this.setState({formLoader:!0});const t=await(0,w.u2)(e,this.state.token);if(200===t.status){this.setState({formLoader:!1});const e="Tranche Approval Success";this.props.enqueueSnackbar(e,{variant:"info",autoHideDuration:3e3}),this.onCloseModal3(),this.getDealDetailsByDealId()}else if(201===t.status)this.setState({showMessage:!0,showMessageData:t.data.message,formLoader:!1});else{this.setState({formLoader:!1});const e="Something went wrong";this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3}),this.onCloseModal3()}})),(0,n.c)(this,"bdbapi",(async()=>{let e=JSON.stringify({DealID:{type:"in",value:[this.state.dealId]}});console.log("poolidold",e);const t=await u().get("https://bdb.imtest.intainmarkets.us/api/v1/imarkets/link?type=preclosing&mailid=support@bdb.ai&password=Intain@321");if(204==t.status)this.setState({bdbUrl:"UrlBdbNew",bdb_loader:!1});else{let a="https://analytics.intainmarkets.us/home/#/opendocument?data="+t.data+"&customGlobalFilter="+encodeURIComponent(e);this.setState({bdbUrl:a,bdb_loader:!1})}})),(0,n.c)(this,"DownloadIPFSFile",(async e=>{let t=e.filetype.split("."),a=e.documentpath;if(console.log("filetype",t[1],a),"pdf"===t[1]){let n={};n.documentid=e.documentid,n.token=this.state.token;const s=await(0,w.uS)(n,t[1]),o=e.filetype,l=this.state.token;function i(e,t){let a=new Uint8Array(e);const n=new Blob([a],{type:"application/pdf"}),s=document.createElement("a"),o=window.URL.createObjectURL(n);s.href=o,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s)}console.log("token",l),i(s.data,o),console.log("APIResponse",s.data)}else{let r={};r.documentid=e.documentid,r.token=this.state.token;const c=await(0,w.uS)(r,t[1]),m=e.filetype;function d(e,t){const a=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.href=a,n.setAttribute("download",t),document.body.appendChild(n),n.click(),n.parentNode.removeChild(n)}d(c.data,m)}})),(0,n.c)(this,"getMuiTheme",(()=>(0,C.c)({typography:{useNextVariants:!0},overrides:{MUIDataTable:{root:{border:"none !important"}},MUIDataTableBodyRow:{root:{"&:nth-child(even)":{backgroundColor:"var(--tablerow-even-bg)"},"&.Mui-selected":{backgroundColor:"var(--white)"}},hoverCursor:{cursor:"auto !important"}},MuiTableCell:{root:{fontFamily:"Mulish, sans-serif !important",padding:"20px",fontSize:"0.980rem !important"}},MUIDataTableBodyCell:{root:{fontFamily:"Mulish, sans-serif !important",fontWeight:"400 !important",fontSize:"15px !important",borderBottom:"none !important"}},MuiCircularProgress:{colorSecondary:{color:"#048c88 !important"}},MUIDataTableHeadCell:{root:{fontFamily:"Mulish, sans-serif !important",backgroundColor:"var(--white)",borderBottom:"none !important",paddingBottom:"5px !important",paddingTop:"5px !important",paddingLeft:"15px !important"},toolButton:{fontWeight:"600 !important",fontSize:"15px !important",backgroundColor:"none !important",padding:"none !important",marginLeft:"none !important",textTransform:"none !important",border:"none !important",borderRadius:"none !important"}},MUIDataTableToolbar:{root:{fontFamily:"Mulish, sans-serif !important",paddingLeft:"5px !important",paddingRight:"5px !important"},titleText:{fontFamily:"Mulish, sans-serif !important",fontSize:"28px",color:"#212121",fontWeight:"600",fontFamily:"arial",marginBottom:"20px",marginTop:"20px"},icon:{color:"#018E82",paddingRight:"14px !important","&:hover":{color:"#018E82 !important"}},iconActive:{color:"#018E82 !important"}},MuiButton:{contained:{backgroundColor:"#FFC000 !important",padding:"5px 30px !important",marginLeft:"10px !important",textTransform:"none !important",border:"1.2px solid #212121 !important",borderRadius:"20px !important",boxShadow:"none !important"},outlined:{fontFamily:"Mulish, sans-serif !important",backgroundColor:"#fff !important",padding:"5px 30px !important",marginLeft:"10px !important",textTransform:"none !important",border:"1.2px solid #212121 !important",borderRadius:"20px !important",boxShadow:"none !important"},label:{fontSize:"15px !important",fontWeight:"600 !important",fontFamily:"Mulish, sans-serif !important"},textPrimary:{color:"var(--text-color)"}},MUIDataTablePagination:{tableCellContainer:{borderBottom:"none !important"},navContainer:{justifyContent:"center"},toolbar:{paddingLeft:"50px !important"}},MuiTableSortLabel:{icon:{color:"#018E82 !important"},active:{color:"#018E82 !important"}},MuiTablePagination:{caption:{color:"#8C8C8C",marginRight:"".concat(this.state.currentPage>=1&&this.state.currentPage<=9?"-138":this.state.currentPage>=10?"-142":"-130","px"),fontSize:"0.80rem"}},MuiIconButton:{colorInherit:{color:"#018E82 !important",zIndex:"1000",marginRight:"60px",paddingLeft:"-25px"}},MUIDataTable:{paper:{boxShadow:"none !important"},responsiveBase:{border:"1px solid #212121 !important",borderRadius:"10px !important"}},MUIDataTableBody:{emptyTitle:{fontSize:"15px !important",fontFamily:"Mulish, sans-serif !important",color:"#8C8C8C !important"}}}}))),this.state={selectedRecords:[],eligibleloans:{},tableData:[],loading:!1,getLoansLoader:!1,open:!1,openPopup:!1,selectedLoanId:[],screenloader:!1,searchText:"",rowsSelected:null,open1:!1,open2:!1,open3:!1,open4:!1,open5:!1,formData:{selectType:"Private Key",privateKey:"",PrivatePassword:""},formData1:{documentname:"",description:"",privacymode:""},UserId:sessionStorage.getItem("userid"),dealId:sessionStorage.getItem("dealId"),token:sessionStorage.getItem("token"),poolName:sessionStorage.getItem("poolname"),Redirection:sessionStorage.getItem("component"),issueraddress:sessionStorage.getItem("subnetaccaddress"),activeInsights1:!0,activeInsights2:!1,activeInsights3:!1,showSearchBox:!1,paymentRules:[],dealData:{},dealDocuments:[],publishButton:!0,formloadmetamask:!1,bdbUrl:"",selectedData:[],metamaskstatus:!1,investorstatus:!1,showPassword1:!1,showPassword2:!1,file1:"",show:!1,show1:!1,showMessage:!1,theme:sessionStorage.getItem("dark-theme")},this.onChange=this.onChange.bind(this),this.handleChange=this.handleChange.bind(this),this.onChange1=this.onChange1.bind(this),this.handleChange1=this.handleChange1.bind(this)}onChange(e){this.setState({password:e})}handleChange(e){this.setState({[e.target.name]:e.target.value})}onChange1(e){this.setState({password1:e})}handleChange1(e){this.setState({[e.target.name]:e.target.value})}async selectedpoolid(e){const t=[];for(var a=0;a<e.length;a++){var n=e[a];let s=this.state.tableData[n];t.push(s)}console.log("selected Loans",t),sessionStorage.setItem("rundd",JSON.stringify(t))}async componentDidMount(){var e=window.location.pathname;sessionStorage.setItem("component",e),this.getDealDetailsByDealId(),this.bdbapi()}render(){var e;const{password:t,password1:a}=this.state,{classes:n}=this.props,s={filterType:"dropdown",filter:!1,search:!1,print:!1,viewColumns:!1,download:!1,rowHover:!1,selectableRowsOnClick:!1,selectableRows:!1,onRowClick:this.onRowClick,onRowsSelect:this.onRowsSelect,onChangePage:this.onChangePage,rowsSelected:this.state.rowsSelected,rowsPerPage:[10],rowsPerPageOptions:!1,jumpToPage:!1,pagination:N.TrainRounded,onRowsSelect:(e,t)=>{console.log("allRows",t),console.log("rowsSelected",e),this.setState({rowsSelected:t.map((e=>e.dataIndex))});const a=t.map((e=>e.dataIndex));console.log("selected"+a),this.selectedpoolid(a)},onChangePage:e=>{console.log("currentPage",e),this.setState({currentPage:e})},searchText:this.state.searchText,searchPlaceholder:"Search",customSearch:(e,t,a)=>{let n=!1;return t.forEach((t=>{t.toString().indexOf(e)>=0&&(n=!0)})),n},loading:!1,textLabels:{body:{noMatch:!0===this.state.loading?o().createElement(d.c,{msg:"Please wait, Loading Loan Data"}):"Sorry, there is no matching deal data to display",toolTip:"Sort",columnHeaderTooltip:e=>"Sort for ".concat(e.label)},filter:{all:"All",title:"FILTERS",reset:"RESET"},selectedRows:{text:"row(s) selected",delete:"Delete",deleteAria:"Delete Selected Rows"},pagination:{next:"Next ",previous:"Previous",rowsPerPage:"",displayRows:"Of"}}},i=[{name:"trancheId",label:"Tranche ID",options:{filter:!0,sort:!0,customHeadRender:(e,t)=>o().createElement("th",{style:{backgroundColor:"rgba(1, 142, 130, 0.1)",borderBottom:"none",paddingBottom:"10px",paddingTop:"10px",textAlign:"center"}},e.label),customBodyRender:(e,t,a)=>o().createElement(o().Fragment,null,o().createElement("div",{className:"text-left"},e))}},{name:"trancheName",label:"Tranche Name",options:{filter:!0,sort:!0,customHeadRender:(e,t)=>o().createElement("th",{style:{backgroundColor:"rgba(1, 142, 130, 0.1)",borderBottom:"none",paddingBottom:"10px",paddingTop:"10px",textAlign:"center"}},e.label),customBodyRender:(e,t,a)=>o().createElement(o().Fragment,null,o().createElement("div",{className:"text-center"},e))}},{name:"creditEnhancement",label:"Credit Enhancement",options:{filter:!0,sort:!0,customHeadRender:(e,t)=>o().createElement("th",{style:{backgroundColor:"rgba(1, 142, 130, 0.1)",borderBottom:"none",paddingBottom:"10px",paddingTop:"10px",textAlign:"center"}},e.label),customBodyRender:(e,t,a)=>o().createElement(o().Fragment,null,o().createElement("div",{className:"text-center"},e+"%"))}},{name:"pricipalBalance",label:"Principal Balance",options:{filter:!0,sort:!0,customHeadRender:(e,t)=>o().createElement("th",{style:{backgroundColor:"rgba(1, 142, 130, 0.1)",borderBottom:"none",paddingBottom:"10px",paddingTop:"10px",textAlign:"center"}},e.label),customBodyRender:(e,t,a)=>o().createElement(o().Fragment,null,o().createElement("div",{className:"text-right"},o().createElement(O.c,{value:e})))}},{name:"interestRate",label:"Interest Rate",options:{filter:!0,sort:!0,customHeadRender:(e,t)=>o().createElement("th",{style:{backgroundColor:"rgba(1, 142, 130, 0.1)",borderBottom:"none",paddingBottom:"10px",paddingTop:"10px",textAlign:"center"}},e.label),customBodyRender:(e,t,a)=>o().createElement(o().Fragment,null,o().createElement("div",{className:"text-center"},e))}},{name:"investedAmount",label:"Invested Amount",options:{filter:!0,sort:!0,customHeadRender:(e,t)=>o().createElement("th",{style:{backgroundColor:"rgba(1, 142, 130, 0.1)",borderBottom:"none",paddingBottom:"10px",paddingTop:"10px",textAlign:"center"}},e.label),customBodyRender:(e,t,a)=>o().createElement(o().Fragment,null,o().createElement("div",{className:"text-right"},o().createElement(O.c,{value:e})))}},{name:"approvestatus",label:"Approve Status",options:{filter:!0,sort:!0,customHeadRender:(e,t)=>o().createElement("th",{style:{backgroundColor:"rgba(1, 142, 130, 0.1)",borderBottom:"none",paddingBottom:"10px",paddingTop:"10px",textAlign:"center"}},e.label),customBodyRender:(e,t,a)=>o().createElement(o().Fragment,null,o().createElement("div",{className:"text-center"},e))}},{name:"trancheId",label:"Actions",options:{filter:!1,sort:!1,customHeadRender:(e,t)=>o().createElement("th",{style:{backgroundColor:"rgba(1, 142, 130, 0.1)",borderBottom:"none",paddingBottom:"5px",paddingTop:"5px",textAlign:"center"}},e.label),customBodyRender:(e,t,a)=>o().createElement(o().Fragment,null,o().createElement("div",{className:"text-center"},"pending"==t.rowData[6]?o().createElement("button",{type:"button",className:"login-sign_up-links",onClick:()=>"onchain"==this.state.paymentmode?this.onOpenModal(e,t.rowData[3],t.rowData[8]):this.onOpenModal3(e,t.rowData[3],t.rowData[8])},"Approve"):o().createElement("button",{disabled:!0,type:"button",className:"login-sign_up-links button-disabled"},"Approve")))}},{name:"deployedaddress",label:"Deploy Address",options:{filter:!0,sort:!0,display:!1}}],{theme:c}=this.state;return o().createElement(o().Fragment,null,o().createElement("div",{className:"page"},o().createElement(l.c,{activeComponent:"Portfolio"}),o().createElement("div",{className:"content1"},1==this.state.screenloader?o().createElement(p.c,null):o().createElement("div",{className:"page-contentofpool1"},o().createElement("div",{className:"row1"},o().createElement("div",{className:"col-12 col-sm-6 col-md-8 d-flex justigy-content-center align-center hellocard"},o().createElement(F.c,{onClick:this.handleClicks,className:"left-arrow-muis1 left-arrow-servicer"}),o().createElement("h3",{className:"headerdashboard"},"Deal Details")),o().createElement("div",{className:"col-12 col-sm-6 col-md-4 hellocard"},o().createElement("div",{className:"buttonsverified uw-deal-details-button-container"},o().createElement(m.c,{variant:"outlined",color:"black",onClick:this.PoolDetails},"View Pool Details"),!1===this.state.publishButton?o().createElement(m.c,{variant:"contained",color:"primary",onClick:this.onOpenModal1},"Publish"):"Open"===this.state.dealData.status?o().createElement(m.c,{disabled:!0,variant:"contained",color:"primary"},"Deal Published"):o().createElement(m.c,{disabled:!0,variant:"contained",color:"primary",onClick:this.onOpenModal1},"Publish")))),o().createElement("div",{className:"abovepart1"},o().createElement("div",{className:"part1"},o().createElement(x.c,{defaultExpanded:!0,style:{height:"273px"}},o().createElement(T.c,{expandIcon:o().createElement(B.c,null),"aria-controls":"panel1a-content",id:"panel1a-header"},o().createElement("div",{className:"editcontainer1"},o().createElement("h5",{className:"headingpayment"},"Payment Rules"))),0==this.state.paymentRules.length?"":o().createElement(M.c,null,o().createElement(I.c,null,o().createElement("ul",{className:"bulletpoints"},this.state.paymentRules.map((e=>o().createElement("li",null,e.paymentRule)))))))),o().createElement("div",{className:"part2"},o().createElement(x.c,{defaultExpanded:!0,style:{height:"273px"}},o().createElement(T.c,{expandIcon:o().createElement(B.c,null),"aria-controls":"panel1a-content",id:"panel1a-header"},o().createElement("div",{className:"editcontainer1"},o().createElement("h5",{className:"headingpayment"},"Summary")))," "==this.state.dealData.dealsummary?"":o().createElement(M.c,null,o().createElement(I.c,null,o().createElement("div",{className:"bulletpoints1_container1"},o().createElement("div",{className:"rowdealsummary"},o().createElement("img",{src:"https://nodeapp.imtest.intainmarkets.us/root_folder/"+this.state.dealData.logo,alt:"logo",className:"wellslogodeal"}),o().createElement("p",{className:"bulletpoints11-black-1"},this.state.dealData.dealsummary)))))))),o().createElement("div",{className:"row"},o().createElement("div",{className:"col-12 col-sm-6 col-md-4"},o().createElement("div",{className:"page-content3 documents-section"},o().createElement("div",{className:"editcontainer"},o().createElement("h5",{className:"headingspace"},"Documents (",null===(e=this.state.dealDocuments)||void 0===e?void 0:e.length,")")),o().createElement("div",null,this.state.dealDocuments.map((e=>o().createElement("div",null,o().createElement("div",{className:"pool-box"},o().createElement("div",{className:"pool-box-text-container"},o().createElement("div",{className:"lockicondivcss"},o().createElement("h6",{className:"headingspace11"},e.documentname),"public"==e.privacymode?o().createElement(R.c,{className:"lockicon"}):o().createElement(P.c,{className:"lockicon"})),o().createElement("p",{className:"text-secondary sizeofp1"},e.description)),o().createElement("div",{className:"pool-box-icons-container"},o().createElement(k.c,{className:"eye-btn1",type:"button",onClick:()=>this.DownloadIPFSFile(e)}),o().createElement(D.c,{type:"button",onClick:()=>this.onOpenModal4(e),className:"eye-btn1"}))),o().createElement("div",{className:"horizontal-divider"}))))))),o().createElement("div",{className:"col-12 col-sm-6 col-md-8"},o().createElement("div",{className:"page-content3 basic-details-container"},o().createElement("div",{className:"editcontainer"},o().createElement("h5",{className:"headingspace"},"Basic Details")),o().createElement("div",{className:"row"},o().createElement("div",{className:"col"},o().createElement("div",{className:"headingspaces1"},o().createElement("p",{className:"sizeofp"},"Deal Name"),o().createElement("h6",{className:"headingspace1"},this.state.dealData.dealName)),o().createElement("div",{className:"headingspaces1"},o().createElement("p",{className:"sizeofp"},"Asset Class"),o().createElement("h6",{className:"headingspace1"}," ",this.state.dealData.assetclass)),o().createElement("div",{className:"headingspaces1"},o().createElement("p",{className:"sizeofp"},"Closing Date"),o().createElement("h6",{className:"headingspace1"},this.state.dealData.closingDate)),o().createElement("div",{className:"headingspaces1"},o().createElement("p",{className:"sizeofp"},"Maturity Date"),o().createElement("h6",{className:"headingspace1"},this.state.dealData.maturityDate))),o().createElement("div",{className:"col"},o().createElement("div",{className:"headingspaces1"},o().createElement("p",{className:"sizeofp"},"Status"),o().createElement("h6",{className:"headingspace1"},this.state.dealData.status)),o().createElement("div",{className:"headingspaces1"},o().createElement("p",{className:"sizeofp"},"Pool Original Principal Balance"),o().createElement("h6",{className:"headingspace1"},o().createElement(A.c,{value:this.state.dealData.originalbalance}))),o().createElement("div",{className:"headingspaces1"},o().createElement("p",{className:"sizeofp"},"1st Payment Date"),o().createElement("h6",{className:"headingspace1"},this.state.dealData.firstPaymentDate)),o().createElement("div",{className:"headingspaces1"},o().createElement("p",{className:"sizeofp"},"Payment Frequency"),o().createElement("h6",{className:"headingspace1"},this.state.dealData.paymentFrequency))),o().createElement("div",{className:"col"},o().createElement("div",{className:"headingspaces1"},o().createElement("p",{className:"sizeofp"},"Verification Agent"),o().createElement("h6",{className:"headingspace1"},this.state.dealData.VAUserName)),o().createElement("div",{className:"headingspaces1"},o().createElement("p",{className:"sizeofp"},"Servicer"),o().createElement("h6",{className:"headingspace1"},this.state.dealData.ServicerUserName)),o().createElement("div",{className:"headingspaces1"},o().createElement("p",{className:"sizeofp"},"Underwriter"),o().createElement("h6",{className:"headingspace1"},this.state.dealData.UnderWriterUserName))))))),o().createElement("div",{className:"row graphs-container"},o().createElement(o().Fragment,null,o().createElement(q(),{url:this.state.bdbUrl,width:"100%",height:"450px",id:"myId",className:"bdb-charts",display:"initial",position:"relative"}))),o().createElement("div",{className:"row row1"},o().createElement("div",null,o().createElement("h1",{className:"headerdashboard1"},"Tranches"))),o().createElement(o().Fragment,null,o().createElement("div",{className:"workbench-table-container"},o().createElement(S.ThemeProvider,{theme:this.getMuiTheme()},o().createElement(r(),{data:this.state.tableData,columns:i,options:s})))),o().createElement("div",{id:"modal"},o().createElement(v(),{isOpen:this.state.open1,onRequestClose:this.onCloseModal,contentLabel:"Minimal Modal Example",style:f.ei},o().createElement(o().Fragment,null,o().createElement("div",{className:"modalPopup2"},o().createElement("div",{className:"popupTitle"},o().createElement("h2",null,"Approve the Issuance"),o().createElement("button",{type:"button",className:"closePopup",style:{minWidth:"30px"},onClick:this.onCloseModal}," ",o().createElement(g.default,null)," ")),o().createElement("div",{className:"modalshiftcontent"},o().createElement("div",{className:"pa_popup-main-body-container"},"Each tranche in this deal is represented by Fungible Tokens (FTs) that are currently held in your IM Subnet Wallet; once this deal is published, those FTs will be exchanged with Investors for USDC.",o().createElement("br",null),o().createElement("br",null),"By signing the Approve Transaction below, you agree to allow IM to automatically debit the corresponding amount of FTs from your IM Subnet Wallet as Investors credit your C-Chain Wallet with USDC.”"),o().createElement("div",{className:"accept_pop-button-container"},o().createElement("button",{className:"pa_popup-reject-btn",onClick:this.onCloseModal},"Cancel"),o().createElement(m.c,{variant:"contained",color:"primary",type:"button",disabled:1==this.state.metamaskstatus,onClick:this.meta}," ","Sign with MetaMask",!0===this.state.formloadmetamask?o().createElement(b.c,{size:"22px",color:"primary"}):""))))))),o().createElement("div",{id:"modal"},o().createElement(v(),{isOpen:this.state.open4,onRequestClose:this.onCloseModal3,contentLabel:"Minimal Modal Example",style:f.YT},o().createElement(o().Fragment,null,o().createElement("div",{className:"modalPopup2"},o().createElement("div",{className:"popupTitle"},o().createElement("h2",null,"Approve the Issuance"),o().createElement("button",{type:"button",className:"closePopup",style:{minWidth:"30px"},onClick:this.onCloseModal3}," ",o().createElement(g.default,null)," ")),o().createElement("div",{className:"modalshiftcontent"},o().createElement("form",{className:"form-container",onSubmit:this.onSubmit1},o().createElement("div",{className:"input-container-select-type"},o().createElement("label",{className:"label-private-key"},"Select Type"),o().createElement("select",{required:!0,className:"input-select-private-key",onChange:e=>{this.setState({formData:{...this.state.formData,selectType:e.target.value}})},value:this.state.formData.selectType},o().createElement("option",{value:"",disabled:!0},"Select any one"),o().createElement("option",{value:"Private Key"},"Private Key"),o().createElement("option",{value:"JSON File"},"JSON File"))),"Private Key"==this.state.formData.selectType?o().createElement("div",{className:"input-container"},o().createElement("label",{className:"label"},"Enter your private key for"," ",this.state.issueraddress," account:"),o().createElement("div",{className:"flex input"},o().createElement(Y(),{required:!0,placeholder:"Type here",show:this.state.show1,name:"password",value:a,onChange:this.onChange1,className:"input-none"}),o().createElement("button",{type:"button",className:"eye-btn",onClick:this.handleButtonClick1},this.state.show1?o().createElement(_.c,null):o().createElement(D.c,null))),o().createElement("p",{className:"error-msg"},this.state.showMessageData1),o().createElement("div",null,o().createElement("p",{className:"label1"},"Note: The private key will be used only for transaction signing purpose and will not be stored it in our DB.",o().createElement("br",null),"By Approving, you are providing access to Intain admin to transfer the tranche tokens."))):o().createElement(o().Fragment,null,o().createElement("div",{className:""},o().createElement("div",{className:"kyc-card__button-container1"},o().createElement("div",null,o().createElement("button",{className:"card__button",style:{position:"relative"}},o().createElement("label",{htmlFor:"icon-button-file-id2",className:"upload-button-label"},"Upload"),o().createElement("input",{required:!0,id:"icon-button-file-id2",type:"file",style:{position:"absolute",width:"60%",height:"100%",cursor:"pointer",top:"0",right:"0px",opacity:"0",border:"1.2px solid #212121"},onChange:this.handleOnChange2}))),""!==this.state.file1&&o().createElement("div",{className:"kyc-card__select_name-container"},o().createElement("p",null,this.state.filename1)))),o().createElement("div",{className:"input-container"},o().createElement("div",{className:"flex input"},o().createElement(Y(),{required:!0,placeholder:"Enter Password",show:this.state.show,name:"password",value:t,onChange:this.onChange,className:"input-none"}),o().createElement("button",{type:"button",className:"eye-btn",onClick:this.handleButtonClick2},this.state.show?o().createElement(_.c,null):o().createElement(D.c,null))),o().createElement("p",{className:"error-msg"},this.state.showMessageData),o().createElement("div",null,o().createElement("p",{className:"label1"},"Note: The private key will be used only for transaction signing purpose and will not be stored it in our DB.",o().createElement("br",null),"By Approving, you are providing access to Intain admin to transfer the tranche tokens.")))),o().createElement("div",{className:"accept_pop-button-container"},o().createElement("button",{className:"pa_popup-reject-btn",onClick:this.onCloseModal3},"Cancel"),o().createElement(m.c,{variant:"contained",color:"primary",type:"submit"},!0===this.state.formLoader?o().createElement(b.c,{size:"22px",color:"primary"}):o().createElement("span",null," Approve"))))))))),o().createElement("div",{id:"modal"},o().createElement(v(),{isOpen:this.state.open2,onRequestClose:this.onCloseModal1,contentLabel:"Minimal Modal Example",style:f.YT},o().createElement(o().Fragment,null,o().createElement("div",{className:"modalPopup2"},o().createElement("div",{className:"popupTitle"},o().createElement("h2",null,"Publish Deal to Investors"),o().createElement("button",{type:"button",className:"closePopup",style:{minWidth:"30px"},onClick:this.onCloseModal1}," ",o().createElement(g.default,null)," ")),o().createElement("div",{className:"modalshiftcontent"},o().createElement("div",{className:"pa_popup-main-body-container"},"In order to publish this deal, you will first need to approve the issuance of each of its tranches; please go to the Tranche(s) section to accomplish this"),o().createElement("div",{className:"accept_pop-button-container"},o().createElement("button",{className:"pa_popup-reject-btn",onClick:this.onCloseModal1},"Cancel"),o().createElement(m.c,{variant:"contained",color:"primary",type:"button",disabled:1==this.state.investorstatus,onClick:this.PublishUW}," ","Confirm",!0===this.state.formLoader?o().createElement(b.c,{size:"22px",color:"primary"}):""))))))),o().createElement("div",{id:"modal"},o().createElement(v(),{isOpen:this.state.open3,onRequestClose:this.onCloseModal2,contentLabel:"Minimal Modal Example",style:f.ei},o().createElement(o().Fragment,null,o().createElement("div",{className:"modalPopup2"},o().createElement("div",{className:"popupTitle"},o().createElement("h2",null,"Approve the Issuance"),o().createElement("button",{type:"button",className:"closePopup",style:{minWidth:"30px"},onClick:this.onCloseModal3}," ",o().createElement(g.default,null)," ")),o().createElement("div",{className:"modalshiftcontent"},o().createElement("ul",null,o().createElement("li",{className:"t-flex-container"},o().createElement("div",{className:"td-first"},o().createElement("p",null,"Select any one Tranche")),o().createElement("div",{className:"td-second"},o().createElement("p",null,"Status"))),K.map((e=>o().createElement("li",{className:"t-flex-container",key:e.name},o().createElement("div",{className:"td-first"},o().createElement("input",{type:"checkbox",className:"t-select",disabled:!!e.status.toLocaleLowerCase().includes("done"),onChange:t=>{!0===t.target.checked?this.handleOnChangeAdd(e):this.handleOnChnageRemove(e)}}),o().createElement("p",{className:"t-name"},e.name)),o().createElement("div",{className:"td-second"},o().createElement("p",{className:e.status.toLocaleLowerCase().includes("done")?"t-text-color-green":"t-text-color-red"},e.status)))))),o().createElement("p",null,"Note:"),o().createElement("ul",null,o().createElement("li",null,"Each tranche in this deal is represented by Fungible Tokens (FTs) that are currently held in your IM Subnet Wallet; once this deal is published, those FTs will be exchanged with Investors for USDC."," "),o().createElement("li",null,"By signing the Approve Transaction below, you agree to allow IM to automatically debit the corresponding amount of FTs from your IM Subnet Wallet as Investors credits your C-Chain Wallet with USDC.”"))),o().createElement("div",{className:"modalshiftcontent"},o().createElement("div",{className:"accept_pop-button-container"},o().createElement("button",{className:"pa_popup-reject-btn",onClick:this.onCloseModal},"Cancel"),o().createElement(m.c,{variant:"contained",color:"primary",type:"button",onClick:this.meta}," ","Sign with MetaMask",!0===this.state.formloadmetamask?o().createElement(b.c,{size:"22px",color:"primary"}):""))))))),o().createElement("div",{id:"modal"},o().createElement(v(),{isOpen:this.state.open5,onRequestClose:this.onCloseModal4,contentLabel:"Minimal Modal Example",style:f.YT},o().createElement(o().Fragment,null,o().createElement("div",{className:"modalPopup2"},o().createElement("div",{className:"popupTitle"},o().createElement("h2",null,"View the Document Details"),o().createElement("button",{type:"button",className:"closePopup",style:{minWidth:"30px"},onClick:this.onCloseModal4}," ",o().createElement(g.default,null)," ")),o().createElement("div",{className:"modalshiftcontent"},o().createElement("form",{className:"form-container"},o().createElement("div",{className:"Modal-Data"},o().createElement("div",{className:"headingspaces1"},o().createElement("p",{className:"sizeofp"},"Document Name"),o().createElement("h6",{className:"headingspace1"},this.state.formData1.documentname)),o().createElement("div",{className:"headingspaces1"},o().createElement("p",{className:"sizeofp"},"Description"),o().createElement("h6",{className:"headingspace1"},this.state.formData1.description)),o().createElement("div",{className:"headingspaces1"},o().createElement("p",{className:"sizeofp"},"Privacy Mode"),o().createElement("h6",{className:"headingspace1"},this.state.formData1.privacymode))),o().createElement("div",{className:"modalsubmit"},o().createElement("div",{className:"submitbuttonbg"},o().createElement("div",{className:"row"},o().createElement("div",{className:"row justify-content-addedit1"},o().createElement("button",{type:"button",className:"popupbutton22",onClick:this.onCloseModal4}," ","Cancel"," ")))))))))))))))}}const Q=(0,y.withSnackbar)(J)}}]);