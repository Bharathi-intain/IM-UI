"use strict";(self.webpackChunkwsfs=self.webpackChunkwsfs||[]).push([[2760],{92760:(t,e,a)=>{a.r(e),a.d(e,{default:()=>x});var o=a(52536),n=a(23132),i=a.n(n),s=a(29496),r=a(46057),l=a(28),p=a(89240),c=a(54928),m=(a(79820),a(20304)),d=a.n(m),h=a(15832),g=a(54563),u=a(12552),b=a(58124),v=a(67784),f=a(74428);class D extends n.Component{constructor(t){super(t),(0,o.c)(this,"handleClickUploadLoanTapes",(()=>{this.setState({activeInsights1:!0,activeInsights2:!1,activeInsights3:!1,activeInsights4:!1,activeInsights5:!1}),window.location.assign("/admin/uploadLoanTape")})),(0,o.c)(this,"handleClickPreviewLoanTape",(()=>{this.setState({activeInsights1:!1,activeInsights2:!0,activeInsights3:!1,activeInsights4:!1,activeInsights5:!1}),window.location.assign("/admin/previewloantapedetails")})),(0,o.c)(this,"handleClickMapFields",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!0,activeInsights4:!1,activeInsights5:!1})})),(0,o.c)(this,"handleClickPreviewMappedFields",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!1,activeInsights4:!0,activeInsights5:!1}),window.location.assign("/admin/previewmapfields")})),(0,o.c)(this,"handleClickSummarize",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!1,activeInsights4:!1,activeInsights5:!0}),window.location.assign("/admin/summarize")})),(0,o.c)(this,"onchange",(t=>{this.setState({searchText:t.target.value,searchType:!0}),console.log("search: e.target.value",t.target.value)})),(0,o.c)(this,"getMuiTheme",(()=>(0,p.c)({typography:{useNextVariants:!0},overrides:{MUIDataTable:{root:{border:"none !important"}},MuiTableCell:{root:{fontFamily:"Mulish, sans-serif !important",padding:"20px",fontSize:"0.980rem !important",borderBottom:"none !important"}},MUIDataTableBodyCell:{root:{fontFamily:"Mulish, sans-serif !important",fontWeight:"400 !important",fontSize:"15px !important",borderBottom:"none !important"}},MuiCircularProgress:{colorSecondary:{color:"#048c88 !important"}},MUIDataTableHeadCell:{root:{fontFamily:"Mulish, sans-serif !important",backgroundColor:"white !important",backgroundClip:"padding-box",borderBottom:"none !important",paddingBottom:"5px !important",paddingTop:"5px !important",paddingLeft:"15px !important",position:"relative",zIndex:1e3,"&::after":{content:"''",position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(1, 142, 130, 0.1) !important",zIndex:-1}},toolButton:{fontWeight:"600 !important",fontSize:"15px !important",backgroundColor:"none !important",padding:"none !important",marginLeft:"none !important",textTransform:"none !important",border:"none !important",borderRadius:"none !important"}},MUIDataTableToolbar:{root:{fontFamily:"Mulish, sans-serif !important",paddingLeft:"5px !important",paddingRight:"5px !important"},titleText:{fontFamily:"Mulish, sans-serif !important",fontSize:"28px",color:"#212121",fontWeight:"600",fontFamily:"arial",marginBottom:"20px",marginTop:"20px"},icon:{color:"#018E82",paddingRight:"14px !important","&:hover":{color:"#018E82 !important"}},iconActive:{color:"#018E82 !important"}},MuiButton:{contained:{backgroundColor:"#FFC000 !important",padding:"5px 30px !important",marginLeft:"10px !important",textTransform:"none !important",border:"1.2px solid #212121 !important",borderRadius:"20px !important",boxShadow:"none !important"},outlined:{fontFamily:"Mulish, sans-serif !important",backgroundColor:"#fff !important",padding:"5px 30px !important",marginLeft:"10px !important",textTransform:"none !important",border:"1.2px solid #212121 !important",borderRadius:"20px !important",boxShadow:"none !important"},label:{fontSize:"15px !important",fontWeight:"600 !important",fontFamily:"Mulish, sans-serif !important"},textPrimary:{color:"#018E82 !important"}},MUIDataTablePagination:{tableCellContainer:{borderBottom:"none !important"},navContainer:{justifyContent:"center"},toolbar:{paddingLeft:"50px !important"}},MuiTableSortLabel:{icon:{color:"#018E82 !important"},active:{color:"#018E82 !important"}},MuiTablePagination:{caption:{color:"#8C8C8C",fontSize:"0.80rem"}},MuiIconButton:{colorInherit:{color:"#018E82 !important",zIndex:"1000",marginRight:"60px",paddingLeft:"-25px"}},MUIDataTable:{paper:{boxShadow:"none !important"},responsiveBase:{border:"1px solid #212121 !important",borderRadius:"10px !important"}},MUIDataTableSelectCell:{headerCell:{backgroundColor:"rgba(1, 142, 130, 0.1) !important"},checkboxRoot:{"&$checked":{color:"#FFC000 !important"}},checked:{},disabled:{}}}}))),(0,o.c)(this,"getMuiTheme1",(()=>(0,p.c)({typography:{useNextVariants:!0},overrides:{MUIDataTable:{root:{border:"none !important"}},MUIDataTableBodyRow:{root:{"&:nth-child(even)":{backgroundColor:"rgb(229,229,229,0.3) !important"},"&.Mui-selected":{backgroundColor:"white !important"}},hoverCursor:{cursor:"auto !important"}},MuiTableCell:{root:{fontFamily:"Mulish, sans-serif !important",padding:"20px",fontSize:"0.980rem !important",borderBottom:"none !important"}},MUIDataTableBodyCell:{root:{fontFamily:"Mulish, sans-serif !important",fontWeight:"400 !important",fontSize:"15px !important",borderBottom:"none !important"}},MuiCircularProgress:{colorSecondary:{color:"#048c88 !important"}},MUIDataTableHeadCell:{root:{fontFamily:"Mulish, sans-serif !important",backgroundColor:"white !important",backgroundClip:"padding-box",borderBottom:"none !important",paddingBottom:"5px !important",paddingTop:"10px !important",paddingLeft:"20px !important",position:"relative",fontSize:"15px !important",fontWeight:"600 !important",zIndex:1e3,height:"3rem","&::after":{content:"''",position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(1, 142, 130, 0.1) !important",height:"3rem",zIndex:-1}},toolButton:{fontWeight:"600 !important",fontSize:"15px !important",backgroundColor:"none !important",padding:"none !important",marginLeft:"none !important",textTransform:"none !important",border:"none !important",borderRadius:"none !important"}},MUIDataTableToolbar:{root:{fontFamily:"Mulish, sans-serif !important",paddingLeft:"5px !important",paddingRight:"5px !important"},titleText:{fontFamily:"Mulish, sans-serif !important",fontSize:"28px",color:"#212121",fontWeight:"600",fontFamily:"arial",marginBottom:"20px",marginTop:"20px"},icon:{color:"#018E82",paddingRight:"14px !important","&:hover":{color:"#018E82 !important"}},iconActive:{color:"#018E82 !important"}},MuiButton:{contained:{backgroundColor:"#FFC000 !important",padding:"5px 30px !important",marginLeft:"10px !important",textTransform:"none !important",border:"1.2px solid #212121 !important",borderRadius:"20px !important",boxShadow:"none !important"},outlined:{fontFamily:"Mulish, sans-serif !important",backgroundColor:"#fff !important",padding:"5px 30px !important",marginLeft:"10px !important",textTransform:"none !important",border:"1.2px solid #212121 !important",borderRadius:"20px !important",boxShadow:"none !important"},label:{fontSize:"15px !important",fontWeight:"600 !important",fontFamily:"Mulish, sans-serif !important"},textPrimary:{color:"#018E82 !important"}},MUIDataTablePagination:{tableCellContainer:{borderBottom:"none !important"},navContainer:{justifyContent:"center"},toolbar:{paddingLeft:"50px !important"}},MuiTableSortLabel:{icon:{color:"#018E82 !important"},active:{color:"#018E82 !important"}},MuiTablePagination:{caption:{color:"#8C8C8C",fontSize:"0.80rem"}},MuiIconButton:{colorInherit:{color:"#018E82 !important",zIndex:"1000",marginRight:"60px",paddingLeft:"-25px"}},MUIDataTable:{paper:{boxShadow:"none !important"},responsiveBase:{border:"1px solid #212121 !important",borderRadius:"10px !important"}},MUIDataTableSelectCell:{headerCell:{backgroundColor:"rgba(1, 142, 130, 0.1) !important"},checkboxRoot:{"&$checked":{color:"#FFC000 !important"}},checked:{},disabled:{}}}}))),(0,o.c)(this,"toggleDropdown",(t=>{console.log(this.state.mappingData[t]),this.state.mappingData[t].Value="","Yes"===this.state.mappingData[t].Expression?this.state.mappingData[t].Expression="No":this.state.mappingData[t].Expression="Yes",this.setState((e=>{const a={...e.showDropdown};return"No"===this.state.mappingData[t].Expression?e.showDropdown[t]=!0:e.showDropdown[t]=!1,console.log(e.showDropdown[t]),a[t]=!e.showDropdown[t],console.log(a),{showDropdown:a}}))})),(0,o.c)(this,"goBackToDashBoard",(()=>{window.location.assign("/admin/previewloantapedetails")})),(0,o.c)(this,"StdfieldsQuery",(async()=>{var t;let e=b(this.state.servicerPaymentDate).subtract(1,"months").format("MM/DD/YYYY").toString(),a=e.slice(0,2),o=e.slice(6,10);var n={};n.DealName=this.state.servicerDealName,n.Month=a,n.Year=o,n.ServicerName=this.state.userid,n.peer=this.state.peer,n.AssetType=this.state.assetClass,console.log("datata",n),this.setState({screenloader:!0});const i=await(0,u.Ib)(n,this.state.token),s=[...new Set(null===(t=i.data)||void 0===t?void 0:t.stdfields)];console.log(s),console.log(this.state.mappingData);const r=this.state.mappingData.map((t=>t.Key)),l=s.filter((t=>!r.includes(t)));console.log(l);const p=l.map((t=>({Key:t}))).filter((t=>t.Key!==this.state.mappingData.map((t=>t.Key))[0]));if(console.log(p),200===i.status){var c;this.setState({StdFieldsQuerys:p,StdHeaders:null===(c=i.data)||void 0===c?void 0:c.loantapefields.map((t=>({Key:t}))),screenloader:!1});const t="Deal Document Update Success";this.props.enqueueSnackbar(t,{variant:"info",autoHideDuration:3e3})}else{this.setState({screenloader:!1});const t=i.data.message;this.props.enqueueSnackbar(t,{variant:"error",autoHideDuration:3e3})}})),(0,o.c)(this,"getMapping",(async()=>{let t=b(this.state.servicerPaymentDate).subtract(1,"months").format("MM/DD/YYYY").toString(),e=t.slice(0,2),a=t.slice(6,10);var o={};o.DealName=this.state.servicerDealName,o.Month=e,o.Year=a,o.ServicerName=this.state.userid;this.state.mappingData.map(((t,e)=>({["Key ".concat(e)]:t.Key,["Value ".concat(e)]:t.Value,Expression:t.Expression})));o.peer=this.state.peer,console.log("datata",o),this.setState({formLoader:!0,screenloader:!0,saveScreenMapping:!0});const n=await(0,u.um)(o,this.state.token);if(console.log("SaveMapping",n.data),200===n.status)this.setState({formLoader:!1,screenloader:!0,saveScreenMapping:!0,mappingData:n.data}),this.StdfieldsQuery();else{this.setState({formLoader:!1,screenloader:!1});const t=n.data.message;console.log(t),this.props.enqueueSnackbar(t,{variant:"error",autoHideDuration:3e3})}})),(0,o.c)(this,"SaveLoanProcessDate",(async()=>{let t=b(this.state.servicerPaymentDate).subtract(1,"months").format("MM/DD/YYYY").toString(),e=t.slice(0,2),a=t.slice(6,10);var o={};o.DealName=this.state.servicerDealName,o.Month=e,o.Year=a,o.ServicerName=this.state.userid,o.peers=this.state.peer;const n=this.state.mappingData.map(((t,e)=>({["Key ".concat(e)]:t.Key,["Value ".concat(e)]:t.Value,Expression:t.Expression})));o.MappingData=n,o.CurrentPaymentDate=this.state.servicerPaymentDate,console.log("datata",o),this.setState({formLoader:!0});const i=await(0,u.MB)(o,this.state.token);if(console.log("SaveMapping",i.data),200===i.status){this.setState({formLoader:!1});const t="Deal Document Update Success";this.props.enqueueSnackbar(t,{variant:"info",autoHideDuration:3e3}),window.location.assign("/admin/previewmapfields")}else{this.setState({formLoader:!1});const t=i.data.message;this.props.enqueueSnackbar(t,{variant:"error",autoHideDuration:3e3})}})),this.state={showDropdown:{},isFullScreen:!1,loading:!1,searchText:"",inputValue:"",data1:[],mappingData:[],inputMappingData:[],screenloader:!1,saveScreenMapping:!1,isChecked:!1,dontCheck:!1,isToggle:!1,DealName:null===sessionStorage.getItem("dealname")?sessionStorage.getItem("servicerdealname"):sessionStorage.getItem("dealname"),ServicerName:null===sessionStorage.getItem("Servicer")?sessionStorage.getItem("servicerdashboardname"):sessionStorage.getItem("Servicer"),detailsDate:null===sessionStorage.getItem("selectdate")?sessionStorage.getItem("selectservicerdate"):sessionStorage.getItem("selectdate"),peer:sessionStorage.getItem("peer_insurer"),peers:JSON.parse(sessionStorage.getItem("peers")),AssetType:sessionStorage.getItem("assettype"),StdFieldsQuerys:[],StdHeaders:[],formData:{valueRight:""},activeInsights2:!1,activeInsights3:!0,activeInsights4:!1,activeInsights5:!1,screendisplay:!0,servicerDealName:sessionStorage.getItem("dealName"),servicerPaymentDate:sessionStorage.getItem("paymentDate"),userid:sessionStorage.getItem("userid"),token:sessionStorage.getItem("token"),assetClass:sessionStorage.getItem("assetClass")}}componentDidMount(){this.getMapping()}render(){console.log(this.state.StdFieldsQuerys.filter((t=>t.Key!==this.state.mappingData.map((t=>t.Key))[0])));this.state.mappingData;console.log(this.state.mappingData.map((t=>t.Key))[0]);const t=[{name:"Key",label:"Select Intain Fields",options:{filter:!0,sort:!0,customBodyRender:(t,e,a)=>{console.log(t),console.log("tableMeta",e.rowData[0]);const n=this.state.mappingData.map((e=>e.Key!==t?t:null));return console.log(n),console.log([t]),i().createElement("div",{style:{display:"flex",alignItems:"center"}},i().createElement("input",{type:"checkbox",id:e.rowData[0],style:{cursor:"pointer",marginRight:"2rem"},onChange:a=>o(a,t,e),checked:this.state.dontCheck}),i().createElement("label",{for:e.rowData[0]},t))}}}];console.log("Valueee",this.state.mappingData[0]);const e=[{name:"Key",label:"Selected Intain Fields",options:{filter:!0,sort:!1,customBodyRender:(t,e,a)=>(console.log("tableMeta",t),i().createElement("div",{style:{display:"flex",alignItems:"center"}},i().createElement("input",{type:"checkbox",id:e.rowData[0],style:{cursor:"pointer",marginRight:"2rem"},onChange:a=>n(a,t,e),checked:!0}),i().createElement("label",{for:e.rowData[0]},t)))}},{name:"Servicer",label:"Servicer Tape Fields",options:{filter:!0,sort:!1,customBodyRender:(t,e,a)=>{const o=e.rowIndex;return console.log(e),i().createElement("div",{style:{display:"flex",gap:"1rem",alignItems:"center"}},i().createElement(h.c,{checked:this.state.showDropdown[o]||"Yes"===this.state.mappingData[o].Expression,onClick:()=>this.toggleDropdown(o)}),this.state.showDropdown[o]||"Yes"===this.state.mappingData[o].Expression?i().createElement("input",{type:"text",value:"Yes"===this.state.mappingData[o].Expression?this.state.mappingData[o].Value:t,onChange:t=>{console.log(t.target.value),this.setState({mappingData:this.state.mappingData.map(((e,a)=>({...e,Value:o===a?t.target.value:e.Value,Expression:o===a?"Yes":e.Expression})))},(()=>console.log("logI",this.state.mappingData)))},className:"input-select",placeholder:"Type Formula"}):i().createElement("select",{className:"input-select",onChange:t=>{console.log(t.target.value),this.setState({mappingData:this.state.mappingData.map(((e,a)=>({...e,Value:o===a?t.target.value:e.Value,Expression:o===a?"No":e.Expression}))),isToggle:!1},(()=>console.log("logs",this.state.mappingData)))},value:this.state.mappingData[o].Value},i().createElement("option",{value:"",disabled:!0,className:"selectclass"},"Select Any One"),this.state.StdHeaders.map(((t,e)=>i().createElement("option",{key:e,value:t.Key},t.Key)))))}}}],a={filterType:"dropdown",filter:!1,search:!1,print:!1,viewColumns:!1,download:!1,rowHover:!1,selectableRowsOnClick:!1,selectableRows:"none",rowsPerPageOptions:!1,jumpToPage:!1,pagination:!1,selectToolbarPlacement:"none",selectableRowsHeader:!1,tableBodyHeight:"90vh"},o=(t,e,a)=>{console.log(t.target.checked),console.log(a);const o=[...this.state.mappingData,{Key:e,Value:"",Expression:"No"}],n=this.state.StdFieldsQuerys.filter((t=>t.Key!==e));this.setState({data1:o,StdFieldsQuerys:n,isChecked:t.target.checked}),this.setState({...this.state.mappingData,mappingData:o.map((t=>({...t})))})};console.log(this.state.mappingData);const n=(t,e,a)=>{console.log(t.target.checked),console.log(a.rowIndex);const o=this.state.mappingData.filter((t=>t.Key!==e));this.state.showDropdown[a.rowIndex]=!1,console.log(o),console.log(this.state.data1);const n=[{Key:e},...this.state.StdFieldsQuerys];console.log([...new Set(n)]),this.setState({...this.state.mappingData,mappingData:o}),this.setState({data1:o,StdFieldsQuerys:n})};return i().createElement(i().Fragment,null,i().createElement("div",{className:"page"},i().createElement(s.c,{activeComponent:"ServicerDashboardDeals"}),i().createElement("div",{className:"content1"},1==this.state.screenloader?i().createElement(f.c,null):i().createElement("div",{className:"page-contentofpool1"},i().createElement("div",{className:"row1"},i().createElement("div",{className:"col-12 col-sm-6 col-md-2 d-flex justigy-content-center align-center hellocard"},i().createElement(g.c,{onClick:()=>this.goBackToDashBoard(),className:"left-arrow-muis1 left-arrow-servicer"}),i().createElement("h3",{className:"headerdashboard"},"Servicer Details")),i().createElement("div",{className:"col-12 col-sm-6 col-md-10 hellocard"},i().createElement("div",{className:"recurring_details"},i().createElement("div",null,i().createElement("label",{className:"dealInfo"},"Deal Name : "),i().createElement("h6",{className:"dealInfo1"},this.state.servicerDealName)),i().createElement("div",null,i().createElement("label",{className:"dealInfo"},"Payment Date : "),i().createElement("h6",{className:"dealInfo1"},this.state.servicerPaymentDate))))),i().createElement("div",{className:"row row1"},i().createElement("div",null,i().createElement("div",{className:"tablechangebuttonloans"},i().createElement("button",{type:"button",onClick:()=>this.handleClickUploadLoanTapes(),className:1==this.state.activeInsights1?"issuerDashboard-table-top-button-insights-active":"issuerDashboard-table-top-button-insights"},"Upload Loan Tapes"),i().createElement("button",{type:"button",onClick:()=>this.handleClickPreviewLoanTape(),className:1==this.state.activeInsights2?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected"},"Preview Loan Tape"),i().createElement("button",{type:"button",onClick:()=>this.handleClickMapFields(),className:1==this.state.activeInsights3?"issuerDashboard-table-top-button-workbench-active":"issuerDashboard-table-top-button-workbench"},"Map Fields"),i().createElement("button",{type:"button",onClick:()=>this.handleClickPreviewMappedFields(),className:1==this.state.activeInsights4?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected"},"Preview Map Fields"),i().createElement("button",{type:"button",onClick:()=>this.handleClickSummarize(),className:1==this.state.activeInsights5?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected"},"Summarize"))),i().createElement("div",{style:{display:"flex",alignItems:"center",gap:"1rem"}},i().createElement(r.c,{variant:"contained",color:"primary",onClick:()=>this.SaveLoanProcessDate()},"Save Mapping",!0===this.state.formLoader?i().createElement(v.c,{size:"25px",color:"primary"}):""))),i().createElement("div",{style:{display:"flex",gap:"2rem"}},i().createElement("div",{style:{width:"420px"}},i().createElement(c.ThemeProvider,{theme:this.getMuiTheme},i().createElement(d(),{columns:t,options:a,data:this.state.StdFieldsQuerys}))),i().createElement("div",{style:{width:"1230px"}},i().createElement(c.ThemeProvider,{theme:this.getMuiTheme1},i().createElement(d(),{columns:e,options:a,data:this.state.mappingData}))))))))}}const x=(0,l.withSnackbar)(D)}}]);