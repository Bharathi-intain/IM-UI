"use strict";(self.webpackChunkwsfs=self.webpackChunkwsfs||[]).push([[8492],{90504:(e,t,a)=>{var s=a(22411),n=a(81480);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(23132)),l=(0,s(a(78452)).default)(i.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.default=l},68492:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var s=a(52536),n=a(45072),i=a(23132),l=a.n(i),r=a(29496),c=a(46057),o=a(28),d=(a(79820),a(45652),a(12552)),h=a(54563),m=a(74428),u=a(58124),g=a(90504),p=a(71192),v=a(74872),b=a(65073),S=a(43216),I=a(48128),w=a(85036),E=a(46260),D=a(76968);const k={Scroller:l().forwardRef(((e,t)=>l().createElement(I.c,(0,n.c)({component:D.c},e,{ref:t})))),Table:e=>l().createElement(v.c,(0,n.c)({},e,{style:{borderCollapse:"separate"}})),TableHead:w.c,TableRow:E.c,TableBody:l().forwardRef(((e,t)=>l().createElement(b.c,(0,n.c)({},e,{ref:t}))))};class f extends i.Component{constructor(e){super(e),(0,s.c)(this,"handleSort",(e=>{const{sortColumn:t,sortAscending:a,tableData:s}=this.state;let n;n=t!==e||!a;const i=[...s].sort(((t,a)=>{const s=t[e]?t[e].toLowerCase():"",i=a[e]?a[e].toLowerCase():"";return s<i?n?-1:1:s>i?n?1:-1:0}));this.setState({tableData:i,sortColumn:e,sortAscending:n})})),(0,s.c)(this,"handleSearchIconClick",(()=>{this.setState({isSearchOpen:!0})})),(0,s.c)(this,"toggleFullScreen",(()=>{this.setState((e=>({isFullScreen:!e.isFullScreen}))),document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()})),(0,s.c)(this,"handleClickUploadLoanTapes",(()=>{this.setState({activeInsights1:!0,activeInsights2:!1,activeInsights3:!1,activeInsights4:!1,activeInsights5:!1}),window.location.assign("/admin/uploadLoanTape")})),(0,s.c)(this,"handleClickPreviewLoanTape",(()=>{this.setState({activeInsights1:!1,activeInsights2:!0,activeInsights3:!1,activeInsights4:!1,activeInsights5:!1}),window.location.assign("/admin/previewloantapedetails")})),(0,s.c)(this,"handleClickMapFields",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!0,activeInsights4:!1,activeInsights5:!1}),window.location.assign("/admin/mapfields")})),(0,s.c)(this,"handleClickPreviewMappedFields",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!1,activeInsights4:!0,activeInsights5:!1})})),(0,s.c)(this,"handleClickSummarize",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!1,activeInsights4:!1,activeInsights5:!0}),window.location.assign("/admin/summarize")})),(0,s.c)(this,"PreviewMappedFields",(async()=>{this.setState({screenloader:!0});let e=u(this.state.servicerPaymentDate).subtract(1,"months").format("MM/DD/YYYY").toString(),t=e.slice(0,2),a=e.slice(6,10);var s={};s.DealName=this.state.servicerDealName,s.Month=t,s.Year=a,s.ServicerName=this.state.userid,s.peer=this.state.peer,s.AssetType="RRE",console.log("datata",s),this.setState({screenloader:!0});const n=await(0,d.MH)(s,this.state.token);if(console.log("APIResponse",n),200===n.status)if(!0===n.data.isSuccess){var i,l,r;const e=(null===(i=n.data)||void 0===i?void 0:i.result)||[];console.log("tableData",e),this.setState({MapDataKeys:e.length>0?Object.keys(e[0]):[],MapDataValues:null===(l=n.data)||void 0===l||null===(l=l.result)||void 0===l?void 0:l.map((e=>Object.keys(e).map((t=>({value:e[t]}))))),screenloader:!1,tableData:(null===(r=n.data)||void 0===r?void 0:r.result)||["no data"]})}else{this.setState({screenloader:!1});const e=n.data.result;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3})}else{this.setState({screenloader:!1});const e=n.data.message;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3})}})),(0,s.c)(this,"goBackToDashBoard",(()=>{window.location.assign("/admin/mapfields")})),(0,s.c)(this,"handleSearch",(e=>{const t=e.target.value.toLowerCase(),{tableData:a}=this.state,s=a.filter((e=>{for(let a in e)if(e[a]&&e[a].toString().toLowerCase().includes(t))return!0;return!1}));this.setState({searchTerm:e.target.value,data:s,isDataFound:s.length>0})})),(0,s.c)(this,"clearSearch",(()=>{this.setState({searchTerm:"",data:this.state.tableData})})),(0,s.c)(this,"filterData",(e=>{const{tableData:t}=this.state;return t.filter((t=>Object.values(t).some((t=>"string"==typeof t&&t.toLowerCase().includes(e.toLowerCase())))))})),this.state={isFullScreen:!1,loading:!1,tableData:[],servicerDealName:sessionStorage.getItem("dealName"),servicerPaymentDate:sessionStorage.getItem("paymentDate"),DealName:null===sessionStorage.getItem("dealname")?sessionStorage.getItem("servicerdealname"):sessionStorage.getItem("dealname"),ServicerName:null===sessionStorage.getItem("Servicer")?sessionStorage.getItem("servicerdashboardname"):sessionStorage.getItem("Servicer"),detailsDate:null===sessionStorage.getItem("selectdate")?sessionStorage.getItem("selectservicerdate"):sessionStorage.getItem("selectdate"),peer:sessionStorage.getItem("peer_insurer"),peers:JSON.parse(sessionStorage.getItem("peers")),activeInsights1:!1,activeInsights2:!1,activeInsights3:!1,activeInsights4:!0,activeInsights5:!1,screenloader:!1,MapDataValues:[],MapDataKeys:[],data:[],searchTerm:"",isDataFound:!0,isSearchOpen:!1,sortColumn:"",sortAscending:!0,userid:sessionStorage.getItem("userid"),token:sessionStorage.getItem("token")}}componentDidMount(){this.PreviewMappedFields()}render(){const{searchTerm:e,isDataFound:t,tableData:a,MapDataKeys:s,data:n,isSearchOpen:i,sortColumn:o,sortAscending:d}=this.state,u=e?this.filterData(e):a;return l().createElement(l().Fragment,null,l().createElement("div",{className:"page"},l().createElement(r.c,{activeComponent:"ServicerDashboardDeals"}),l().createElement("div",{className:"content1"},1==this.state.screenloader?l().createElement(m.c,null):l().createElement("div",{className:"page-contentofpool1"},l().createElement("div",{className:"row1"},l().createElement("div",{className:"col-12 col-sm-6 col-md-2 d-flex justigy-content-center align-center hellocard"},l().createElement(h.c,{onClick:()=>this.goBackToDashBoard(),className:"left-arrow-muis1 left-arrow-servicer"}),l().createElement("h3",{className:"headerdashboard"},"Servicer Details")),l().createElement("div",{className:"col-12 col-sm-6 col-md-10 hellocard"},l().createElement("div",{className:"recurring_details"},l().createElement("div",null,l().createElement("label",{className:"dealInfo"},"Deal Name : "),l().createElement("h6",{className:"dealInfo1"},this.state.servicerDealName)),l().createElement("div",null,l().createElement("label",{className:"dealInfo"},"Payment Date : "),l().createElement("h6",{className:"dealInfo1"},this.state.servicerPaymentDate))))),l().createElement("div",{className:"row row1"},l().createElement("div",null,l().createElement("div",{className:"tablechangebuttonloans"},l().createElement("button",{type:"button",onClick:()=>this.handleClickUploadLoanTapes(),className:1==this.state.activeInsights1?"issuerDashboard-table-top-button-insights-active":"issuerDashboard-table-top-button-insights"},"Upload Loan Tapes"),l().createElement("button",{type:"button",onClick:()=>this.handleClickPreviewLoanTape(),className:1==this.state.activeInsights2?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected"},"Preview Loan Tape"),l().createElement("button",{type:"button",onClick:()=>this.handleClickMapFields(),className:1==this.state.activeInsights3?"issuerDashboard-table-top-button-workbench-active":"issuerDashboard-table-top-button-workbench"},"Map Fields"),l().createElement("button",{type:"button",onClick:()=>this.handleClickPreviewMappedFields(),className:1==this.state.activeInsights4?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected"},"Preview Map Fields"),l().createElement("button",{type:"button",onClick:()=>this.handleClickSummarize(),className:1==this.state.activeInsights5?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected"},"Summarize"))),l().createElement("div",{style:{display:"flex",alignItems:"center",gap:"1rem"}},l().createElement("div",null,l().createElement("div",{className:"search-container active"},l().createElement("input",{type:"text",value:e,onChange:this.handleSearch,placeholder:"Search...",className:"search-input"}),l().createElement("span",{className:"search-icon",onClick:this.handleSearchIconClick},l().createElement(g.default,null))),!t&&l().createElement("p",null,"No data found.")),l().createElement(c.c,{variant:"contained",color:"primary",type:"submit",style:{width:"7rem"},onClick:()=>this.handleClickSummarize()},"Next"))),1==this.state.screenloader?"":l().createElement(l().Fragment,null,l().createElement("div",{style:{overflow:"auto",borderRadius:"10px",border:"0.5px solid black"}},l().createElement(p.TableVirtuoso,{style:{height:800},data:u,components:k,fixedHeaderContent:()=>l().createElement(E.c,null,l().createElement(l().Fragment,null,l().createElement(S.c,{style:{background:"white",width:"100px"}}),s.map(((e,t)=>l().createElement(S.c,{key:t,style:{background:"white",cursor:"pointer",width:"".concat(10*e.length,"px"),whiteSpace:"nowrap"},onClick:()=>this.handleSort(e)},l().createElement("div",{style:{display:"flex",gap:"6px"}},e,o===e&&l().createElement("span",null,d?" ▲":" ▼"))))))),itemContent:(e,t)=>l().createElement(l().Fragment,null,l().createElement(S.c,{style:{background:"white",width:"100px"}},e+1),s.map(((e,a)=>l().createElement(S.c,{key:a,style:{background:"white",width:"".concat(10*e.length,"px"),whiteSpace:"nowrap"}},t[e]))))})),l().createElement("div",null))))))}}const C=(0,o.withSnackbar)(f)}}]);