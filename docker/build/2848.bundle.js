"use strict";(self.webpackChunkwsfs=self.webpackChunkwsfs||[]).push([[2848],{29700:(e,t,a)=>{var o=a(22411);t.c=void 0;var n=o(a(93540)),i=a(17624);t.c=(0,n.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},66588:(e,t,a)=>{a.d(t,{c:()=>f});var o=a(52536),n=a(23132),i=a.n(n),s=a(46057),r=a(28),l=a(23124),p=a(89240),d=a(54928),m=(a(79820),a(20304)),c=a.n(m),g=a(15832),h=(a(58124),a(67784)),u=a(12552);class x extends n.Component{constructor(e){super(e),(0,o.c)(this,"onchange",(e=>{this.setState({searchText:e.target.value,searchType:!0}),console.log("search: e.target.value",e.target.value)})),(0,o.c)(this,"getMuiTheme",(()=>(0,p.c)({typography:{useNextVariants:!0},overrides:{MUIDataTable:{root:{border:"none !important"}},MuiTableCell:{root:{fontFamily:"Mulish, sans-serif !important",padding:"20px",fontSize:"0.980rem !important",borderBottom:"none !important"}},MUIDataTableBodyCell:{root:{fontFamily:"Mulish, sans-serif !important",fontWeight:"400 !important",fontSize:"15px !important",borderBottom:"none !important"}},MuiCircularProgress:{colorSecondary:{color:"#048c88 !important"}},MUIDataTableHeadCell:{root:{fontFamily:"Mulish, sans-serif !important",backgroundColor:"white !important",backgroundClip:"padding-box",borderBottom:"none !important",paddingBottom:"5px !important",paddingTop:"5px !important",paddingLeft:"15px !important",position:"relative",zIndex:1e3,"&::after":{content:"''",position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(1, 142, 130, 0.1) !important",zIndex:-1}},toolButton:{fontWeight:"600 !important",fontSize:"15px !important",backgroundColor:"none !important",padding:"none !important",marginLeft:"none !important",textTransform:"none !important",border:"none !important",borderRadius:"none !important"}},MUIDataTableToolbar:{root:{fontFamily:"Mulish, sans-serif !important",paddingLeft:"5px !important",paddingRight:"5px !important"},titleText:{fontFamily:"Mulish, sans-serif !important",fontSize:"28px",color:"#212121",fontWeight:"600",fontFamily:"arial",marginBottom:"20px",marginTop:"20px"},icon:{color:"#018E82",paddingRight:"14px !important","&:hover":{color:"#018E82 !important"}},iconActive:{color:"#018E82 !important"}},MuiButton:{contained:{backgroundColor:"#FFC000 !important",padding:"5px 30px !important",marginLeft:"10px !important",textTransform:"none !important",border:"1.2px solid #212121 !important",borderRadius:"20px !important",boxShadow:"none !important"},outlined:{fontFamily:"Mulish, sans-serif !important",backgroundColor:"#fff !important",padding:"5px 30px !important",marginLeft:"10px !important",textTransform:"none !important",border:"1.2px solid #212121 !important",borderRadius:"20px !important",boxShadow:"none !important"},label:{fontSize:"15px !important",fontWeight:"600 !important",fontFamily:"Mulish, sans-serif !important"},textPrimary:{color:"#018E82 !important"}},MUIDataTablePagination:{tableCellContainer:{borderBottom:"none !important"},navContainer:{justifyContent:"center"},toolbar:{paddingLeft:"50px !important"}},MuiTableSortLabel:{icon:{color:"#018E82 !important"},active:{color:"#018E82 !important"}},MuiTablePagination:{caption:{color:"#8C8C8C",fontSize:"0.80rem"}},MuiIconButton:{colorInherit:{color:"#018E82 !important",zIndex:"1000",marginRight:"60px",paddingLeft:"-25px"}},MUIDataTable:{paper:{boxShadow:"none !important"},responsiveBase:{border:"1px solid #212121 !important",borderRadius:"10px !important"}},MUIDataTableSelectCell:{headerCell:{backgroundColor:"rgba(1, 142, 130, 0.1) !important"},checkboxRoot:{"&$checked":{color:"#FFC000 !important"}},checked:{},disabled:{}}}}))),(0,o.c)(this,"getMuiTheme1",(()=>(0,p.c)({typography:{useNextVariants:!0},overrides:{MUIDataTable:{root:{border:"none !important"}},MUIDataTableBodyRow:{root:{"&:nth-child(even)":{backgroundColor:"rgb(229,229,229,0.3) !important"},"&.Mui-selected":{backgroundColor:"white !important"}},hoverCursor:{cursor:"auto !important"}},MuiTableCell:{root:{fontFamily:"Mulish, sans-serif !important",padding:"20px",fontSize:"0.980rem !important",borderBottom:"none !important"}},MUIDataTableBodyCell:{root:{fontFamily:"Mulish, sans-serif !important",fontWeight:"400 !important",fontSize:"15px !important",borderBottom:"none !important"}},MuiCircularProgress:{colorSecondary:{color:"#048c88 !important"}},MUIDataTableHeadCell:{root:{fontFamily:"Mulish, sans-serif !important",backgroundColor:"white !important",backgroundClip:"padding-box",borderBottom:"none !important",paddingBottom:"5px !important",paddingTop:"5px !important",paddingLeft:"15px !important",position:"relative",zIndex:1e3,"&::after":{content:"''",position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(1, 142, 130, 0.1) !important",zIndex:-1}},toolButton:{fontWeight:"600 !important",fontSize:"15px !important",backgroundColor:"none !important",padding:"none !important",marginLeft:"none !important",textTransform:"none !important",border:"none !important",borderRadius:"none !important"}},MUIDataTableToolbar:{root:{fontFamily:"Mulish, sans-serif !important",paddingLeft:"5px !important",paddingRight:"5px !important"},titleText:{fontFamily:"Mulish, sans-serif !important",fontSize:"28px",color:"#212121",fontWeight:"600",fontFamily:"arial",marginBottom:"20px",marginTop:"20px"},icon:{color:"#018E82",paddingRight:"14px !important","&:hover":{color:"#018E82 !important"}},iconActive:{color:"#018E82 !important"}},MuiButton:{contained:{backgroundColor:"#FFC000 !important",padding:"5px 30px !important",marginLeft:"10px !important",textTransform:"none !important",border:"1.2px solid #212121 !important",borderRadius:"20px !important",boxShadow:"none !important"},outlined:{fontFamily:"Mulish, sans-serif !important",backgroundColor:"#fff !important",padding:"5px 30px !important",marginLeft:"10px !important",textTransform:"none !important",border:"1.2px solid #212121 !important",borderRadius:"20px !important",boxShadow:"none !important"},label:{fontSize:"15px !important",fontWeight:"600 !important",fontFamily:"Mulish, sans-serif !important"},textPrimary:{color:"#018E82 !important"}},MUIDataTablePagination:{tableCellContainer:{borderBottom:"none !important"},navContainer:{justifyContent:"center"},toolbar:{paddingLeft:"50px !important"}},MuiTableSortLabel:{icon:{color:"#018E82 !important"},active:{color:"#018E82 !important"}},MuiTablePagination:{caption:{color:"#8C8C8C",fontSize:"0.80rem"}},MuiIconButton:{colorInherit:{color:"#018E82 !important",zIndex:"1000",marginRight:"60px",paddingLeft:"-25px"}},MUIDataTable:{paper:{boxShadow:"none !important"},responsiveBase:{border:"1px solid #212121 !important",borderRadius:"10px !important"}},MUIDataTableSelectCell:{headerCell:{backgroundColor:"rgba(1, 142, 130, 0.1) !important"},checkboxRoot:{"&$checked":{color:"#FFC000 !important"}},checked:{},disabled:{}}}}))),(0,o.c)(this,"toggleDropdown",(e=>{console.log(this.state.mappingData[e]),this.state.mappingData[e].Value="","Yes"===this.state.mappingData[e].Expression?this.state.mappingData[e].Expression="No":this.state.mappingData[e].Expression="Yes",this.setState((t=>{const a={...t.showDropdown};return"No"===this.state.mappingData[e].Expression?t.showDropdown[e]=!0:t.showDropdown[e]=!1,console.log(t.showDropdown[e]),a[e]=!t.showDropdown[e],console.log(a),{showDropdown:a}}))})),(0,o.c)(this,"previewToggleDropdown",(e=>{this.state.previewMappingData[e].Value="","Yes"===this.state.previewMappingData[e].Expression?this.state.previewMappingData[e].Expression="No":this.state.previewMappingData[e].Expression="Yes",this.setState((t=>{const a={...t.showDropdown};return"No"===this.state.previewMappingData[e].Expression?t.showDropdown[e]=!0:t.showDropdown[e]=!1,console.log(t.showDropdown[e]),a[e]=!t.showDropdown[e],console.log(a),{showDropdown:a}}))})),(0,o.c)(this,"handleDropdownChange",((e,t)=>{const a=t.target.value;this.setState((t=>{const o=[...t.previewMappingData];return o[e].Value=a,{previewMappingData:o}}))})),(0,o.c)(this,"backToEditLoanTape",(()=>{this.props.dataFromMappingField()})),(0,o.c)(this,"queryStandardFieldnames",(async()=>{this.setState({screenloader:!0,loading:!0});var e={};e.AssetType=this.state.dataArray[1]||this.props.assetclass;const t=await(0,u.qW)(e,this.state.token);if(200===t.status){var a;const e=null===(a=t.data)||void 0===a?void 0:a.stdfields;this.setState({screenloader:!1,loading:!1,StdFieldsQuerys:e}),"reupload"===sessionStorage.getItem("functiontodo")&&this.previewQueryPoolMappingDetails()}console.log("std",this.state.StdFieldsQuerys)})),(0,o.c)(this,"saveMapping",(async()=>{const e=new Date(this.props.loandataupdtaedtill),t=e.getDate(),a=e.getMonth()+1,o=e.getFullYear(),n="".concat(a.toString().padStart(2,"0"),"/").concat(t.toString().padStart(2,"0"),"/").concat(o);var i={};if(i.token=this.state.token,i.issuerId=sessionStorage.getItem("userid"),i.IssuerName=sessionStorage.getItem("firstname")+sessionStorage.getItem("lastname"),i.AsOfDate=n,"reupload"===sessionStorage.getItem("functiontodo")){i.filename=JSON.parse(sessionStorage.getItem("filename")),i.asset_class=this.props.assetclass,i.functiontodo="reupload",i.verificationtemplate=JSON.parse(sessionStorage.getItem("verificationtemplate")),i.poolid=this.props.poolid;const e=this.state.previewMappingData.map(((e,t)=>({["Key ".concat(t)]:e.Key,["Value ".concat(t)]:e.Value,Expression:e.Expression})));i.MappingData=e,this.setState({formLoader:!0,screenloader:!0,saveScreenMapping:!0});const t=await(0,u.Yx)(i);if(console.log("res",t),200===t.status)if(!0===t.data.success){this.setState({formLoader:!1,screenloader:!1,saveScreenMapping:!1});const e="Standard loantape save success";this.props.enqueueSnackbar(e,{variant:"info",autoHideDuration:3e3}),window.location.reload()}else{var s,r;this.setState({formLoader:!1,showMessage:!0,ColumnName:null==t||null===(s=t.data)||void 0===s?void 0:s.ColumnName,LoanIdData:null==t||null===(r=t.data)||void 0===r?void 0:r["Loan ID's"],showMessageData:t.data.message})}else{this.setState({formLoader:!1,screenloader:!1});const e="Couldn't create the loan";this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3})}}else{i.filename=this.state.dataArray[0],i.asset_class=this.state.dataArray[1],i.functiontodo=sessionStorage.getItem("functiontodo"),i.verificationtemplate=this.state.dataArray[2],i.poolid="";const e=this.state.mappingData.map(((e,t)=>({["Key ".concat(t)]:e.Key,["Value ".concat(t)]:e.Value,Expression:e.Expression})));i.MappingData=e,this.setState({formLoader:!0,screenloader:!0,saveScreenMapping:!0});const t=await(0,u.Yx)(i);if(200===t.status)if(!0===t.data.success){this.setState({formLoader:!1,screenloader:!1,saveScreenMapping:!1});const e="Standard loantape save success";this.props.enqueueSnackbar(e,{variant:"info",autoHideDuration:3e3}),window.location.reload()}else{var l,p;console.log(t),this.setState({formLoader:!1,showMessage:!0,ColumnName:null==t||null===(l=t.data)||void 0===l?void 0:l.ColumnName,LoanIdData:null==t||null===(p=t.data)||void 0===p?void 0:p["Loan ID's"],showMessageData:t.data.message})}else{this.setState({formLoader:!1,screenloader:!1});const e="Couldn't create the loan";this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3})}}})),(0,o.c)(this,"previewQueryPoolMappingDetails",(async()=>{var e={};e.poolid=sessionStorage.getItem("poolid"),e.token=this.state.token;const t=await(0,u.iw)(e);if(console.log("map",t.data.mappingData),200===t.status)if("reupload"===sessionStorage.getItem("functiontodo")){const e=t.data.mappingData.map((e=>e.Key)),a=this.state.StdFieldsQuerys.filter((t=>!e.includes(t)));this.setState({previewMappingData:t.data.mappingData,StdFieldsQuerys:a})}else this.setState({previewMappingData:t.data.mappingData})})),this.state={showDropdown:{},isFullScreen:!1,loading:!0,searchText:"",inputValue:"",data1:[],mappingData:[],previewMappingData:[],screenloader:!1,saveScreenMapping:!1,isChecked:!1,dontCheck:!1,isToggle:!1,DealName:null===sessionStorage.getItem("dealname")?sessionStorage.getItem("servicerdealname"):sessionStorage.getItem("dealname"),ServicerName:null===sessionStorage.getItem("Servicer")?sessionStorage.getItem("servicerdashboardname"):sessionStorage.getItem("Servicer"),detailsDate:null===sessionStorage.getItem("selectdate")?sessionStorage.getItem("selectservicerdate"):sessionStorage.getItem("selectdate"),peer:sessionStorage.getItem("peer"),peers:JSON.parse(sessionStorage.getItem("peers")),AssetType:sessionStorage.getItem("assettype"),StdFieldsQuerys:[],StdHeaders:[],formData:{valueRight:""},screendisplay:!0,dataArray:sessionStorage.getItem("addloandetails").split(","),token:sessionStorage.getItem("token"),checkedItems:{},showMessage:!1,showMessageData:"",servicerField:""},this.handleDropdownChange=this.handleDropdownChange.bind(this),this.previewQueryPoolMappingDetails=this.previewQueryPoolMappingDetails.bind(this),this.queryStandardFieldnames=this.queryStandardFieldnames.bind(this),console.log("propsss",e)}componentDidMount(){this.queryStandardFieldnames(),console.log("date",this.props.loandataupdtaedtill)}render(){var e,t,a,o;const n=[{name:"key",label:"Select Intain Fields",options:{filter:!1,sort:!1,customBodyRender:(e,t)=>{const{loading:a}=this.state;return i().createElement("div",{style:{display:"flex",alignItems:"center"}},!0===a?i().createElement(l.c,{msg:"Please wait,Loading loan data!"}):i().createElement(i().Fragment,null,i().createElement("input",{type:"checkbox",id:t.tableData[t.rowIndex],style:{cursor:"pointer",marginRight:"2rem"},onChange:a=>u(a,e,t),checked:this.state.checkedItems[t.tableData[t.rowIndex]]||!1}),i().createElement("label",{htmlFor:t.tableData[t.rowIndex]},t.tableData[t.rowIndex])))}}}],r=[{name:"Key",label:"Selected Intain Fields",options:{filter:!0,sort:!0,customBodyRender:(e,t,a)=>(console.log(t.rowData[0]),i().createElement("div",{style:{display:"flex",alignItems:"center"}},i().createElement("input",{type:"checkbox",id:t.rowData[0],style:{cursor:"pointer",marginRight:"2rem"},onChange:a=>x(a,e,t),checked:!0}),i().createElement("label",{for:t.rowData[0]},e)))}},{name:"Servicer",label:"Servicer Tape Fields",options:{filter:!0,sort:!0,customBodyRender:(e,t,a)=>{const o=t.rowIndex;return i().createElement("div",{style:{display:"flex",gap:"1rem",alignItems:"center"}},i().createElement(g.c,{checked:this.state.showDropdown[o]||"Yes"===this.state.mappingData[o].Expression,onClick:()=>this.toggleDropdown(o)}),this.state.showDropdown[o]||"Yes"===this.state.mappingData[o].Expression?i().createElement("input",{type:"text",value:"Yes"===this.state.mappingData[o].Expression?this.state.mappingData[o].Value:e,onChange:e=>{console.log(e.target.value),this.setState({mappingData:this.state.mappingData.map(((t,a)=>({...t,Value:o===a?e.target.value:t.Value,Expression:o===a?"Yes":t.Expression})))},(()=>console.log("logI",this.state.mappingData)))},className:"input-select",placeholder:"Type Formula"}):i().createElement("select",{className:"input-select",onChange:e=>{this.setState({mappingData:this.state.mappingData.map(((t,a)=>({...t,Value:o===a?e.target.value:t.Value,Expression:o===a?"No":t.Expression}))),isToggle:!1},(()=>console.log("logs",this.state.mappingData)))},value:this.state.mappingData[o].Value},i().createElement("option",{value:"",disabled:!0,className:"selectclass"},"Select Column"),f.map(((e,t)=>i().createElement("option",{key:t,value:e},e)))))}}}],p=[{name:"Key",label:"Selected Intain Fields",options:{filter:!0,sort:!0,customBodyRender:(e,t)=>{const a=e;return i().createElement("div",{style:{display:"flex",alignItems:"center"}},i().createElement("input",{type:"checkbox",id:t.rowIndex,style:{cursor:"pointer",marginRight:"2rem"},onChange:a=>x(a,e,t),checked:!0}),i().createElement("label",{htmlFor:t.rowIndex},a))}}},{name:"",label:"Servicer Tape Fields",options:{filter:!1,sort:!1,customBodyRender:(e,t,a)=>{var o,n;console.log("val",e),console.log("tb",t);const s=t.rowIndex,r=this.state.previewMappingData[t.rowIndex].Expression;return i().createElement("div",{style:{display:"flex",gap:"1rem",alignItems:"center"}},i().createElement(g.c,{checked:"Yes"===r,onClick:()=>this.previewToggleDropdown(s)}),"Yes"===r?i().createElement("input",{type:"text",value:"Yes"===this.state.previewMappingData[s].Expression?this.state.previewMappingData[s].Value:"",onChange:e=>{console.log(e.target.value),this.setState({previewMappingData:this.state.previewMappingData.map(((t,a)=>({...t,Value:s===a?e.target.value:t.Value,Expression:s===a?"Yes":t.Expression})))})},className:"input-select",placeholder:"Type Formula"}):i().createElement("select",{className:"input-select",value:f.includes(null===(o=this.state.previewMappingData[s])||void 0===o?void 0:o.Value)?null===(n=this.state.previewMappingData[s])||void 0===n?void 0:n.Value:"",onChange:e=>this.handleDropdownChange(s,e)},i().createElement("option",{value:"",disabled:!0,className:"selectclass"},"Select Column"),f.map(((e,t)=>i().createElement("option",{key:t,value:e},e)))))}}}],m={filterType:"dropdown",filter:!1,search:!1,print:!1,viewColumns:!1,download:!1,rowHover:!1,selectableRowsOnClick:!1,selectableRows:"none",rowsPerPageOptions:!1,jumpToPage:!1,pagination:!1,selectToolbarPlacement:"none",selectableRowsHeader:!1,tableBodyHeight:"90vh"},u=(e,t,a)=>{if("reupload"===sessionStorage.getItem("functiontodo")){console.log("e",e),console.log("val",t),console.log("table",a);const o=[...this.state.previewMappingData,{Key:a.tableData[a.rowIndex],Value:"",Expression:"No"}],n=this.state.StdFieldsQuerys.filter((e=>e!==a.tableData[a.rowIndex]));this.setState({previewMappingData:o,StdFieldsQuerys:n,checkedItems:{...this.state.checkedItems,[a.tableData[a.rowIndex]]:!1}})}else{const e=[...this.state.mappingData,{Key:a.tableData[a.rowIndex],Value:"",Expression:"No"}],t=this.state.StdFieldsQuerys.filter((e=>e!==a.tableData[a.rowIndex]));this.setState({data1:e,StdFieldsQuerys:t,checkedItems:{...this.state.checkedItems,[a.tableData[a.rowIndex]]:!1}}),this.setState({...this.state.mappingData,mappingData:e.map((e=>({...e})))})}},x=(e,t,a)=>{if("reupload"===sessionStorage.getItem("functiontodo")){const e=this.state.previewMappingData.filter((e=>e.Key!==t));this.state.showDropdown[a.rowIndex]=!1;e.map((e=>e.Key));const o=[t].concat(this.state.StdFieldsQuerys),n={...this.state.checkedItems};delete n[t],this.setState({previewMappingData:e,StdFieldsQuerys:o,checkedItems:n})}else{const e=this.state.mappingData.filter((e=>e.Key!==t));this.state.showDropdown[a.rowIndex]=!1;e.map((e=>e.Key));const o=[t].concat(this.state.StdFieldsQuerys),n={...this.state.checkedItems};delete n[t],this.setState({mappingData:e,data1:e,StdFieldsQuerys:o,checkedItems:n})}},{mappingDataKey:f,poolid:v}=this.props;return i().createElement(i().Fragment,null,i().createElement("div",{className:"page"},i().createElement("div",{className:"content1"},i().createElement("div",{style:{display:"flex",gap:"2rem"}},i().createElement("div",{style:{width:"420px"}},i().createElement(d.ThemeProvider,{theme:this.getMuiTheme},i().createElement(c(),{columns:n,options:m,data:null===(e=this.state.StdFieldsQuerys)||void 0===e?void 0:e.sort()}))),"reupload"===sessionStorage.getItem("functiontodo")?i().createElement("div",{style:{width:"1230px"}},i().createElement(d.ThemeProvider,{theme:this.getMuiTheme1},i().createElement(c(),{columns:p,options:m,data:this.state.previewMappingData}))):i().createElement("div",{style:{width:"1230px"}},i().createElement(d.ThemeProvider,{theme:this.getMuiTheme1},i().createElement(c(),{columns:r,options:m,data:this.state.mappingData})))),i().createElement("div",{style:{marginTop:"10px"}},this.state.showMessage&&i().createElement("p",{className:"error-msg"},this.state.showMessageData,void 0===(null===(t=this.state)||void 0===t?void 0:t.LoanIdData)?null===(a=this.state)||void 0===a?void 0:a.ColumnName.map((e=>i().createElement("li",{key:e},e))):null===(o=this.state)||void 0===o?void 0:o.LoanIdData.map((e=>i().createElement("li",{key:e},e))))),i().createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"10px"}},i().createElement(s.c,{onClick:this.backToEditLoanTape},"Back"),i().createElement(s.c,{variant:"contained",color:"primary",onClick:()=>this.saveMapping()},"Add Loans",!0===this.state.formLoader?i().createElement(h.c,{size:"25px",color:"primary"}):"")))))}}const f=(0,r.withSnackbar)(x)}}]);