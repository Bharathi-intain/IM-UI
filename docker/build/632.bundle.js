"use strict";(self.webpackChunkwsfs=self.webpackChunkwsfs||[]).push([[632],{50632:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var s=a(52536),i=a(23132),n=a.n(i),l=a(29496),o=a(54563),r=a(46057),c=(a(79820),a(67784)),d=a(58124),h=a(28),m=a(12552);class v extends i.Component{constructor(e){var t,a,i,n,l,o,r,c;super(e),(0,s.c)(this,"handleOnChange1",(e=>{this.setState({file1:e.target.files[0],filename1:e.target.files[0].name}),console.log("eeee",e.target.files[0].name),console.log("file1",e.target.files[0])})),(0,s.c)(this,"handleClickUploadLoanTapes",(()=>{this.setState({activeInsights1:!0,activeInsights2:!1,activeInsights3:!1,activeInsights4:!1,activeInsights5:!1})})),(0,s.c)(this,"handleClickPreviewLoanTape",(()=>{this.setState({activeInsights1:!1,activeInsights2:!0,activeInsights3:!1,activeInsights4:!1,activeInsights5:!1}),window.location.assign("/admin/previewloantapedetails")})),(0,s.c)(this,"handleClickMapFields",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!0,activeInsights4:!1,activeInsights5:!1}),window.location.assign("/admin/mapfields")})),(0,s.c)(this,"handleClickPreviewMappedFields",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!1,activeInsights4:!0,activeInsights5:!1}),window.location.assign("/admin/previewmapfields")})),(0,s.c)(this,"handleClickSummarize",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!1,activeInsights4:!1,activeInsights5:!0}),window.location.assign("/admin/summarize")})),(0,s.c)(this,"goBackToDashBoard",(()=>{window.location.assign("/admin/servicer_deals")})),(0,s.c)(this,"onSubmit1",(e=>{e.preventDefault(),this.UploadLoanTape()})),(0,s.c)(this,"UploadLoanTape",(async()=>{this.state.paymentDate,null===this.state.DealName?this.state.servicerDealName:this.state.DealName,null===this.state.ServicerName?this.state.servicerDashboardName:this.state.ServicerName;let e=d(this.state.servicerPaymentDate).subtract(1,"months").format("MM/DD/YYYY").toString(),t=e.slice(0,2),a=e.slice(6,10);console.log("uplaodpooluw");const s=new FormData;s.append("DealName",this.state.servicerDealName),s.append("Month",t),s.append("Year",a),s.append("ServicerName",this.state.userid),s.append("filename",this.state.file1),console.log("newdata",s),this.setState({formLoader:!0});const i=await(0,m.aK)(s,this.state.token);if(200===i.status)if(console.log("upload--",i),!0===i.data.isSuccess)this.setState({formLoader:!0}),this.SaveLoanProcessDate();else{this.setState({formLoader:!1});const e=i.data.result;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:2e3})}else alert("Failed upload")})),(0,s.c)(this,"SaveLoanProcessDate",(async()=>{null===this.state.detailsDate?this.state.servicerPaymentDate:this.state.detailsDate,null===this.state.DealName?this.state.servicerDealName:this.state.DealName,null===this.state.ServicerName?this.state.servicerDashboardName:this.state.ServicerName;let e=d(this.state.servicerPaymentDate).subtract(1,"months").format("MM/DD/YYYY").toString(),t=e.slice(0,2),a=e.slice(6,10);var s={};s.DealName=this.state.servicerDealName,s.Month=t,s.Year=a,s.ServicerName=this.state.userid,s.peers=this.state.peers,console.log("datata",s),this.setState({formLoader:!0});const i=await(0,m.k7)(s,this.state.token);if(console.log("SaveMapping",i.data),200===i.status){this.setState({formLoader:!1});const e="Deal Document Update Success";this.props.enqueueSnackbar(e,{variant:"info",autoHideDuration:3e3}),window.location.assign("/admin/previewloantapedetails")}else{this.setState({formLoader:!1});const e=i.data.message;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:3e3})}})),this.state={isFullScreen:!1,loading:!1,activeInsights1:!0,activeInsights2:!1,activeInsights3:!1,activeInsights4:!1,activeInsights5:!1,screendisplay:!0,servicerPaymentDate:sessionStorage.getItem("paymentDate"),servicerDealName:sessionStorage.getItem("dealName"),detailsDate:void 0===(null===(t=this.props.location)||void 0===t||null===(t=t.state)||void 0===t?void 0:t.detailsView)?sessionStorage.getItem("selectdate"):null===(a=this.props.location)||void 0===a||null===(a=a.state)||void 0===a?void 0:a.detailsView,file1:"",DealName:void 0===(null===(i=this.props.location)||void 0===i||null===(i=i.state)||void 0===i?void 0:i.dealname)?sessionStorage.getItem("dealname"):null===(n=this.props.location)||void 0===n||null===(n=n.state)||void 0===n?void 0:n.dealname,ServicerName:void 0===(null===(l=this.props.location)||void 0===l||null===(l=l.state)||void 0===l?void 0:l.servicer)?sessionStorage.getItem("Servicer"):null===(o=this.props.location)||void 0===o||null===(o=o.state)||void 0===o?void 0:o.servicer,servicerDashboardName:void 0===(null===(r=this.props.location)||void 0===r||null===(r=r.state)||void 0===r?void 0:r.ServicerDashboardName)?sessionStorage.getItem("servicerdashboardname"):null===(c=this.props.location)||void 0===c||null===(c=c.state)||void 0===c?void 0:c.ServicerDashboardName,peers:sessionStorage.getItem("peer_insurer"),userid:sessionStorage.getItem("userid"),token:sessionStorage.getItem("token")},console.log("propssss",e)}componentDidMount(){}render(){const e=this.state.servicerPaymentDate;return console.log("servicerDate",e,this.state.detailsDate),n().createElement("div",{className:"page"},n().createElement(l.c,{activeComponent:"ServicerDashboardDeals"}),n().createElement("div",{className:"content1"},!0===this.state.screendisplay?n().createElement("div",{className:"page-contentofpool1"},n().createElement("div",{className:"row1"},n().createElement("div",{className:"col-12 col-sm-6 col-md-2 d-flex justigy-content-center align-center hellocard"},n().createElement(o.c,{onClick:()=>this.goBackToDashBoard(),className:"left-arrow-muis1 left-arrow-servicer"}),n().createElement("h3",{className:"headerdashboard"},"Servicer Details")),n().createElement("div",{className:"col-12 col-sm-6 col-md-10 hellocard"},n().createElement("div",{className:"recurring_details"},n().createElement("div",null,n().createElement("label",{className:"dealInfo"},"Deal Name : "),n().createElement("h6",{className:"dealInfo1"},null===this.state.DealName?this.state.servicerDealName:this.state.DealName)),n().createElement("div",null,n().createElement("label",{className:"dealInfo"},"Payment Date : "),n().createElement("h6",{className:"dealInfo1"},null===this.state.detailsDate?this.state.servicerPaymentDate:this.state.detailsDate))))),n().createElement("div",{className:"row row1"},n().createElement("div",null,n().createElement("div",{className:"tablechangebuttonloans"},n().createElement("button",{type:"button",onClick:()=>this.handleClickUploadLoanTapes(),className:1==this.state.activeInsights1?"issuerDashboard-table-top-button-insights-active":"issuerDashboard-table-top-button-insights"},"Upload Loan Tapes"),n().createElement("button",{type:"button",onClick:()=>this.handleClickPreviewLoanTape(),className:1==this.state.activeInsights2?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected"},"Preview Loan Tape"),n().createElement("button",{type:"button",onClick:()=>this.handleClickMapFields(),className:1==this.state.activeInsights3?"issuerDashboard-table-top-button-workbench-active":"issuerDashboard-table-top-button-workbench"},"Map Fields"),n().createElement("button",{type:"button",onClick:()=>this.handleClickPreviewMappedFields(),className:1==this.state.activeInsights4?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected"},"Preview Map Fields"),n().createElement("button",{type:"button",onClick:()=>this.handleClickSummarize(),className:1==this.state.activeInsights5?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected"},"Summarize")))),n().createElement("div",{className:"part2 servicer-modal-acc"},n().createElement("div",{className:"borderclass"},n().createElement("h5",{className:"headingpayment1-css"},"Loan Tape"),n().createElement("div",{className:""},n().createElement("form",{className:"form-container-setup",onSubmit:this.onSubmit1},n().createElement("div",{className:"servicer-popup-inner-container-sr"},n().createElement("h6",{className:"servicer-popup-inner-container-heading"},"Upload Loan Tape"),n().createElement("div",{className:"kyc-card__button-container1"},n().createElement("div",null,n().createElement("button",{className:"card__button",style:{position:"relative"}},n().createElement("label",{htmlFor:"icon-button-file-id21",className:"upload-button-label1"},"Select File"),n().createElement("input",{required:!0,id:"icon-button-file-id21",type:"file",accept:".csv,.xlsm, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",style:{position:"absolute",width:"60%",height:"100%",cursor:"pointer",top:"0",right:"0px",opacity:"0",border:"1.2px solid #212121"},onChange:this.handleOnChange1}))),""!==this.state.file1&&n().createElement("div",{className:"kyc-card__select_name-container"},n().createElement("p",null,this.state.filename1))),n().createElement("div",{className:"servicer-popup-upload-btn-contianer"},n().createElement(r.c,{variant:"contained",color:"primary",type:"submit"},"Upload",!0===this.state.formLoader?n().createElement(c.c,{size:"22px",color:"primary"}):"")))))))):""))}}const p=(0,h.withSnackbar)(v)}}]);