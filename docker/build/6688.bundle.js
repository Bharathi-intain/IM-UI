"use strict";(self.webpackChunkwsfs=self.webpackChunkwsfs||[]).push([[6688],{76688:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var s=a(52536),i=a(23132),r=a.n(i),o=a(29496),n=a(46057),l=a(74428),c=a(28),m=a(67784),d=(a(39960),a(12552)),h=a(45652),p=a(89240),u=(a(79820),a(54563)),v=a(58124);a(44996);class g extends i.Component{constructor(e){var t,a,i,o,n;super(e),(0,s.c)(this,"handleClickUploadLoanTapes",(()=>{this.setState({activeInsights1:!0,activeInsights2:!1,activeInsights3:!1,activeInsights4:!1,activeInsights5:!1}),window.location.assign("/admin/uploadLoanTape")})),(0,s.c)(this,"handleClickPreviewLoanTape",(()=>{this.setState({activeInsights1:!1,activeInsights2:!0,activeInsights3:!1,activeInsights4:!1,activeInsights5:!1}),window.location.assign("/admin/previewloantapedetails")})),(0,s.c)(this,"handleClickMapFields",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!0,activeInsights4:!1,activeInsights5:!1}),window.location.assign("/admin/mapfields")})),(0,s.c)(this,"handleClickPreviewMappedFields",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!1,activeInsights4:!0,activeInsights5:!1}),window.location.assign("/admin/previewmapfields")})),(0,s.c)(this,"handleClickSummarize",(()=>{this.setState({activeInsights1:!1,activeInsights2:!1,activeInsights3:!1,activeInsights4:!1,activeInsights5:!0})})),(0,s.c)(this,"goBackToDashBoard",(()=>{window.location.assign("/admin/servicer_deals")})),(0,s.c)(this,"summarize",(async()=>{console.log("Summarize");let e=v(this.state.servicerPaymentDate).subtract(1,"months").format("MM/DD/YYYY").toString(),t=e.slice(0,2),a=e.slice(6,10);var s={};s.DealName=this.state.servicerDealName,s.Month=t,s.Year=a,s.ServicerName=this.state.userid,s.peers=this.state.peer;try{this.setState({screenloader:!0});const e=await(0,d.qM)(s,this.state.token);if(200===e.status){var i;console.log("upload--",e),this.setState({screenloader:!1,servicerData:null===(i=e.data)||void 0===i?void 0:i.Data,BlockChainStatus:e.data.Status}),this.SaveLoanProcessDate()}else{this.setState({screenloader:!1});const t=e.data.Result;this.props.enqueueSnackbar(t,{variant:"error",autoHideDuration:2e3})}}catch(e){console.log("Err",e)}})),(0,s.c)(this,"ViewAggregateSummary",(async()=>{console.log("ViewAggregateSummary");let e=v(this.state.servicerPaymentDate).subtract(1,"months").format("MM/DD/YYYY").toString(),t=e.slice(0,2),a=e.slice(6,10);var s={};s.peer=this.state.peer,s.DealName=this.state.servicerDealName,s.Month=t,s.Year=a,s.ServicerName=this.state.userid,this.setState({screenloader:!0});const i=await(0,d.wV)(s,this.state.token);if(200===i.status)console.log("upload--",i),this.setState({screenloader:!1,servicerData:i.data.Data,BlockChainStatus:i.data.Status});else{this.setState({screenloader:!1});const e=i.data.Result;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:2e3})}})),(0,s.c)(this,"ConsolidatedAggregateSummaryToDB",(async()=>{console.log("ConsolidatedAggregateSummaryToDB");let e=v(this.state.detailsDate).subtract(1,"months").format("MM/DD/YYYY").toString(),t=e.slice(0,2),a=e.slice(6,10);var s={};s.DealName=this.state.DealName,s.Month=t,s.Year=a,s.Servicers=this.state.ServicerList,s.peers=this.state.peers,this.setState({screenloader:!0});const i=await ConsolidatedAggregateSummaryToDB(s);if(200===i.status)console.log("upload--",i),this.setState({screenloader:!1,servicerData:i.data.Data,BlockChainStatus:i.data.Status}),this.SaveLoanProcessDate();else{this.setState({screenloader:!1});const e=i.data.Result;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:2e3})}})),(0,s.c)(this,"SaveAggregateSummaryToBC",(async()=>{let e=v(this.state.servicerPaymentDate).subtract(1,"months").format("MM/DD/YYYY").toString(),t=e.slice(0,2),a=e.slice(6,10);var s={};s.DealName=this.state.servicerDealName,s.Month=t,s.Year=a,s.ServicerName=this.state.userid,s.SummaryData=this.state.servicerData,s.peers=this.state.peer,this.setState({formLoader:!0});const i=await(0,d.oT)(s,this.state.token);if(200===i.status){this.setState({formLoader:!1,BlockChainStatus:i.data.Status}),console.log("upload--",i);const e=i.data.Result;this.props.enqueueSnackbar(e,{variant:"info",autoHideDuration:2e3}),this.SaveLoanProcessDate()}else{this.setState({formLoader:!1});const e=i.data.Result;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:2e3})}})),(0,s.c)(this,"ConsolidatedAggregateSummaryToBC",(async()=>{let e=v(this.state.detailsDate).subtract(1,"months").format("MM/DD/YYYY").toString(),t=e.slice(0,2),a=e.slice(6,10);var s={};s.DealName=this.state.DealName,s.Month=t,s.Year=a,s.SummaryData=this.state.servicerData,s.peers=this.state.peers,this.setState({formLoader:!0});const i=await ConsolidatedAggregateSummaryToBC(s);if(200===i.status){this.setState({formLoader:!1,BlockChainStatus:i.data.Status}),this.SaveLoanProcessDate(),console.log("upload--",i);const e=i.data.Result;this.props.enqueueSnackbar(e,{variant:"info",autoHideDuration:2e3})}else{this.setState({formLoader:!1});const e=i.data.Result;this.props.enqueueSnackbar(e,{variant:"error",autoHideDuration:2e3})}})),(0,s.c)(this,"SaveLoanProcessDate",(async()=>{let e=v(this.state.servicerPaymentDate).subtract(1,"months").format("MM/DD/YYYY").toString(),t=e.slice(0,2),a=e.slice(6,10);var s={};s.DealName=this.state.servicerDealName,s.Month=t,s.Year=a,s.ServicerName=this.state.userid,s.peers=this.state.peer,console.log("datata",s);try{const e=await(0,d.k7)(s,this.state.token);if(console.log("SaveMapping",e.data),200===e.status){const t=e.data.message;this.props.enqueueSnackbar(t,{variant:"info",autoHideDuration:3e3})}else{const t=e.data.message;this.props.enqueueSnackbar(t,{variant:"error",autoHideDuration:3e3})}}catch(e){console.log("Err",e)}})),(0,s.c)(this,"getMuiTheme",(()=>(0,p.c)({typography:{useNextVariants:!0},overrides:{MUIDataTable:{root:{border:"none !important"}},MUIDataTableBodyRow:{root:{"&:nth-child(even)":{backgroundColor:"#FAFAFA !important"},"&.Mui-selected":{backgroundColor:"white !important"}},hoverCursor:{cursor:"auto !important"}},MuiTableCell:{root:{fontFamily:"Mulish, sans-serif !important",padding:"20px",fontSize:"0.980rem !important"}},MUIDataTableBodyCell:{root:{fontFamily:"Mulish, sans-serif !important",fontWeight:"400 !important",fontSize:"15px !important",borderBottom:"none !important"}},MuiCircularProgress:{colorSecondary:{color:"#048c88 !important"}},MUIDataTableHeadCell:{root:{fontFamily:"Mulish, sans-serif !important",backgroundColor:"rgba(1, 142, 130, 0.1) !important",borderBottom:"none !important",paddingBottom:"5px !important",paddingTop:"5px !important",paddingLeft:"15px !important"},toolButton:{fontWeight:"600 !important",fontSize:"15px !important",backgroundColor:"none !important",padding:"none !important",marginLeft:"none !important",textTransform:"none !important",border:"none !important",borderRadius:"none !important"}},MUIDataTableToolbar:{root:{fontFamily:"Mulish, sans-serif !important",paddingLeft:"5px !important",paddingRight:"5px !important"},titleText:{fontFamily:"Mulish, sans-serif !important",fontSize:"28px",color:"#212121",fontWeight:"600",fontFamily:"arial",marginBottom:"20px",marginTop:"20px"},icon:{color:"#018E82",paddingRight:"14px !important","&:hover":{color:"#018E82 !important"}},iconActive:{color:"#018E82 !important"}},MuiButton:{contained:{backgroundColor:"#FFC000 !important",padding:"5px 30px !important",marginLeft:"10px !important",textTransform:"none !important",border:"1.2px solid #212121 !important",borderRadius:"20px !important",boxShadow:"none !important"},outlined:{fontFamily:"Mulish, sans-serif !important",backgroundColor:"#fff !important",padding:"5px 30px !important",marginLeft:"10px !important",textTransform:"none !important",border:"1.2px solid #212121 !important",borderRadius:"20px !important",boxShadow:"none !important"},label:{fontSize:"15px !important",fontWeight:"600 !important",fontFamily:"Mulish, sans-serif !important"},textPrimary:{color:"#018E82 !important"}},MUIDataTablePagination:{tableCellContainer:{borderBottom:"none !important"},navContainer:{justifyContent:"center"},toolbar:{paddingLeft:"50px !important"}},MuiTableSortLabel:{icon:{color:"#018E82 !important"},active:{color:"#018E82 !important"}},MuiTablePagination:{caption:{color:"#8C8C8C",marginRight:"".concat(this.state.tableData.length<10?"-122":"-132","px"),fontSize:"0.90rem"}},MuiIconButton:{colorInherit:{color:"#018E82 !important",zIndex:"1000",marginRight:"60px",paddingLeft:"-25px"}},MUIDataTable:{paper:{boxShadow:"none !important"},responsiveBase:{border:"1px solid #212121 !important",borderRadius:"10px !important"}}}}))),(0,s.c)(this,"fistTableData",(e=>{var t;return console.log("tableData",e),r().createElement("div",null,void 0!==e?r().createElement("table",{className:"table-servicer"},r().createElement("tr",null,null===(t=Object.keys(e[0]))||void 0===t?void 0:t.map((e=>r().createElement("th",{className:"servicer-data-table-heading"},e)))),e.map((t=>{var a;return r().createElement("tr",null,null===(a=Object.keys(e[0]))||void 0===a?void 0:a.map((e=>r().createElement("td",null,"Balance"==e?"":t[e]))))}))):"")})),this.state={downArrow:!0,selectedRecords:[],eligibleloans:{},tableData:[],servicerData:[],loading:!1,servicerDealName:sessionStorage.getItem("dealName"),servicerPaymentDate:sessionStorage.getItem("paymentDate"),ViewServicerName:null===(t=this.props.location)||void 0===t||null===(t=t.state)||void 0===t?void 0:t.ViewServicer,getLoansLoader:!1,selectedLoanId:[],rowsSelected:null,isFullScreen:!1,DealName:null===sessionStorage.getItem("dealname")?sessionStorage.getItem("servicerdealname"):sessionStorage.getItem("dealname"),detailsDate:null===sessionStorage.getItem("selectdate")?sessionStorage.getItem("selectservicerdate"):sessionStorage.getItem("selectdate"),ServicerName:null!==(a=this.props.location)&&void 0!==a&&null!==(a=a.state)&&void 0!==a&&a.rowViewDetails?null===(i=this.props.location)||void 0===i||null===(i=i.state)||void 0===i?void 0:i.Servicer:sessionStorage.getItem("Servicer"),peer:sessionStorage.getItem("peer_insurer"),peers:JSON.parse(sessionStorage.getItem("peers")),activeInsights1:!1,activeInsights2:!1,activeInsights3:!1,activeInsights4:!1,activeInsights5:!0,screendisplay:!0,formLoader:!1,screenloader:!1,RowSummary:sessionStorage.getItem("RowIndividualSummary"),TopSummary:null===(o=this.props.location)||void 0===o||null===(o=o.state)||void 0===o?void 0:o.TopWholeSummary,ServicerList:null===(n=this.props.location)||void 0===n||null===(n=n.state)||void 0===n?void 0:n.ServicerList,userid:sessionStorage.getItem("userid"),token:sessionStorage.getItem("token")}}async componentDidMount(){var e;console.log("servvvvv",null===(e=this.props.location)||void 0===e||null===(e=e.state)||void 0===e?void 0:e.ViewServicer);var t=window.location.pathname;sessionStorage.setItem("component",t),"Yes"===this.state.RowSummary?this.ViewAggregateSummary():this.summarize()}render(){var e,t,a,s;const{classes:i}=this.props;this.onRowClick,this.onRowSelectionChange,this.state.rowsSelected,h.TrainRounded,this.state.searchText,this.state.loading;return r().createElement(r().Fragment,null,r().createElement("div",{className:"page"},r().createElement(o.c,{activeComponent:"ServicerDashboardDeals"}),r().createElement("div",{className:"content1"},1==this.state.screenloader?r().createElement(l.c,null):r().createElement("div",{className:"page-contentofpool1"},r().createElement("div",{className:"row1"},r().createElement("div",{className:"col-12 col-sm-6 col-md-2 d-flex justigy-content-center align-center hellocard"},r().createElement(u.c,{onClick:()=>this.goBackToDashBoard(),className:"left-arrow-muis1 left-arrow-servicer"}),r().createElement("h3",{className:"headerdashboard"},"Servicer Details")),r().createElement("div",{className:"col-12 col-sm-6 col-md-10 hellocard"},r().createElement("div",{className:"recurring_details"},r().createElement("div",null,r().createElement("label",{className:"dealInfo"},"Deal Name : "),r().createElement("h6",{className:"dealInfo1"},this.state.servicerDealName)),r().createElement("div",null,r().createElement("label",{className:"dealInfo"},"Payment Date : "),r().createElement("h6",{className:"dealInfo1"},this.state.servicerPaymentDate))))),r().createElement("div",{className:"row row1"},r().createElement("div",null,r().createElement("div",{className:"tablechangebuttonloans"},"Yes"===this.state.TopSummary?r().createElement("button",{type:"button",onClick:()=>this.handleClickSummarize(),className:1==this.state.activeInsights5?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected"},"Summarize"):r().createElement(r().Fragment,null,r().createElement("button",{type:"button",onClick:()=>this.handleClickUploadLoanTapes(),className:1==this.state.activeInsights1?"issuerDashboard-table-top-button-insights-active":"issuerDashboard-table-top-button-insights"},"Upload Loan Tapes"),r().createElement("button",{type:"button",onClick:()=>this.handleClickPreviewLoanTape(),className:1==this.state.activeInsights2?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected"},"Preview Loan Tape"),r().createElement("button",{type:"button",onClick:()=>this.handleClickMapFields(),className:1==this.state.activeInsights3?"issuerDashboard-table-top-button-workbench-active":"issuerDashboard-table-top-button-workbench"},"Map Fields"),r().createElement("button",{type:"button",onClick:()=>this.handleClickPreviewMappedFields(),className:1==this.state.activeInsights4?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected"},"Preview Map Fields"),r().createElement("button",{type:"button",onClick:()=>this.handleClickSummarize(),className:1==this.state.activeInsights5?"issuerDashboard-table-top-button-rejected-active":"issuerDashboard-table-top-button-rejected"},"Summarize")))),r().createElement("div",{style:{display:"flex",alignItems:"center",gap:"1rem"}},"Enable"===this.state.BlockChainStatus?r().createElement(n.c,{variant:"contained",color:"primary",onClick:()=>this.SaveAggregateSummaryToBC()},"Commit to the Digital Ledger",!0===this.state.formLoader?r().createElement(m.c,{size:"25px",color:"primary"}):""):r().createElement(n.c,{variant:"contained",color:"primary",disabled:!0},"Commit to the Digital Ledger"))),r().createElement("div",{className:"servicer-data-main-container"},r().createElement("div",{className:"servicer-data-left-container"},r().createElement("div",{className:"outer-servicer-data-table-container "},r().createElement("div",{className:"servicer-data-table-container servicer-first-table"},this.fistTableData(null===(e=this.state.servicerData)||void 0===e?void 0:e.Collateral))),r().createElement("div",{className:"outer-servicer-data-table-container "},r().createElement("div",{className:"servicer-data-table-container servicer-second-table"},this.fistTableData(null===(t=this.state.servicerData)||void 0===t?void 0:t.Collections)))),r().createElement("div",{className:"servicer-data-right-container"},r().createElement("div",{className:"outer-servicer-data-table-container "},r().createElement("div",{className:"servicer-data-table-container servicer-third-table"},this.fistTableData(null===(a=this.state.servicerData)||void 0===a?void 0:a.Interest))),r().createElement("div",{className:"outer-servicer-data-table-container "},r().createElement("div",{className:"servicer-data-table-container servicer-forth-table"},this.fistTableData(null===(s=this.state.servicerData)||void 0===s?void 0:s.Principal)))))))))}}const b=(0,c.withSnackbar)(g)}}]);